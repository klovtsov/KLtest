!|import          |
|fitnesse.fixtures|

!|Library    |
|page driver |
|echo fixture|

!define FirstAccount {${ManagedAccount}}
!define SecondAccount {${prefix}AccSeconda}

!include -c <AutomatedTesting.EmailScenarios.ScenarioLibrary
!include -c <AutomatedTesting.CliScenarios.ScenarioLibrary
!include -c ScenarioLibrary
!3 Case 1: User has permissions on few accounts on system
!|script                                                                                   |
|Add System                                                                                |
|Add account    |${FirstAccount} |with password|${ManagedAccountPwd}|        |successfully |
|Add account    |${SecondAccount}|with password|${ManagedAccountPwd}|        |successfully |
|Add Permissions|ISA             |on account   |${FirstAccount}     |for user|${CLI_user_2}|
|Add Permissions|ISA             |on account   |${SecondAccount}    |for user|${CLI_user_2}|
|pause          |${ApplyNewPoliciesInterval}                                               |
|Check System do not doubles                                                               |

!3 Case 2: User has permissions on few files on system
!|script                                                                          |
|Create File       |${FilePath}|          |${FileName}                            |
|Add File                                                                         |
|Remove Permissions|ISA        |on account|${FirstAccount} |for user|${CLI_user_2}|
|Remove Permissions|ISA        |on account|${SecondAccount}|for user|${CLI_user_2}|
|Add Permissions   |ISA        |on        |${SystemName}   |for user|${CLI_user_2}|
|pause             |${ApplyNewPoliciesInterval}                                   |
|Check System do not doubles                                                      |
|Remove system     |${SystemName}                                                 |
