!*> Test description
Generated password hasn't to contain more than 2 a consecutive repeated alpha (a-zA-Z) symbols.
Passwords for managed accounts and synchronized passwords are checked.
Not matched password can't be set to sync password.
If password matches the rule it will be set successfully.
*!

!*> Update 06-08-2105
   1. Password rules are not enforced on manually set account passwords. They only apply to passwords generated by tpam.
   2. Setting "No more than 1" was removed.
*!

!define checkRegexp {!-.*[a-zA-Z]{3,}.*-!}

!include -c <AutoTestsWebDrv.ScenarioLibrary
!include -c <AutoTestsWebDrv.CliScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.SynchronizedPasswords.ScenarioLibrary
!include -c ScenarioLibrary

!3 Set the password rule settings.
!|script                                                          |
|Login       |${TPAMAdminURL}|        |${TPAMMaster}||${MasterPwd}|
|Let Off                                                          |
|Set         |MaxChars       |equal to|10                         |
|Set         |MinChars       |equal to|6                          |
|Select value|No more than 2 |for     |ConsecutiveAlpha           |
|click       |id=SubmitChangesButton                              |

!3 Test the Rule for accounts
!|script                                                                                                                               |
|Test password generator                    |${checkRegexp}     |should present    |N                                                  |
|Generated account password does not contain|${checkRegexp}                                                                            |
|Check that Synchronized Password           |${SyncPasswordName}|with Password Rule|${PasswdRuleName}||does not contain||${checkRegexp}|
