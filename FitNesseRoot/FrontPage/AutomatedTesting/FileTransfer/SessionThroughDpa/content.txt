!********> Test Short Description
Test File transfer when session is managed by DPA
BFER5593 - If managed account password contains comma (,), a failure message "Unsupported character in password" should appear.
**************!
!include <AutomatedTesting.PlatformsTesting.WindowsDesktop
!define psmProxyType {\"RDP - Automatic Login Using Password\"}
!define shareFolder {${prefix}test}
!define fileToDownload {${prefix}test File.txt}
!define fileToUpload {UploadedFile.txt}
!define TransferMethod {WFC}
!define AcceptImage {psmRecycleBin.png,PrepareDesktop.png,psm_LogonMessageWin.png}
!define content {${ATPath}\PlatformsTesting\WindowsDesktop\content.txt}
!define wrongchars {Unsuppported character in password}
!define ManagedAccountPwd {V0bl,ya}
!define FuncAccPwd {${FunctAcctPwd}}
!define FileTransUser {${FunctAcct}}

!include -c <AutomatedTesting.ScenarioLibrary
!include -c <AutomatedTesting.PostSessionProcessing.ScenarioLibrary
!include -c <AutomatedTesting.CliScenarios.ScenarioLibrary
!include -c <AutomatedTesting.SessionArchiving.ScenarioLibrary
!include -c ScenarioLibrary
!include -c FileTransferWindows.PlatformSpecific

!*> Prepare test (The managed account password contains a comma symbol)
!|script                                            |
|Prepare Enviroment                                 |
|Set PSM Affinity|${SystemName}|Local Server|2|DPA|1|
|Add Session Request                                |
*!

!4 Managed account password contains a comma
!|script                               |
|Download File with error|${wrongchars}|


!4 Check Download file through DPA
!|script                                                     |
|Reset Password|${ManagedAccount}||${ResetPasswordSuccessful}|
|Download File from System                                   |
|Upload File to System                                       |

!*> Cleanup
!|script               |
|Cancel Session Request|
*!
