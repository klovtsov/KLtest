!* Test description
Options on ticket system tab.
*!

!define ManagedAccount {Ticker}
!define defValue {N}
!define specValue {Y}
!define sendEmail {blabla@tpam.com}
!include -c <AutoTestsWebDrv.PowerShellNetApiScenarios.ScenarioLibrary

!|script                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|Add account            |${ManagedAccount}                                                                                                                                                          |on system      |${TemplateName}                    |with options|-RequireTicketForRequest ${specValue} -RequireTicketForAPI ${specValue} -RequireTicketForCLI ${defValue} -RequireTicketForISA ${specValue}                                |
|Add account            |${ManagedAccount}2                                                                                                                                                         |on system      |${TemplateName}                    |with options|-RequireTicketForRequest ${specValue} -RequireTicketForAPI ${specValue} -RequireTicketForCLI ${specValue} -RequireTicketForISA ${defValue} -TicketEmailNotify ${sendEmail}|
|Add account            |${ManagedAccount}Sec                                                                                                                                                       |on system      |${TemplateName}                    |with options|-description "${accDescription}"                                                                                                                                          |
|Try to Add system      |${newSystemName}                                                                                                                                                           |with parameters|-templateSystemName ${TemplateName}|with result |System changes for ${newSystemName} saved successfully                                                                                                                    |
|List Systems by        |-systemName ${newSystemName}                                                                                                                                               |output params  |SystemName                         |contain     |${newSystemName}                                                                                                                                                          |
|List Accounts by filter|-systemName ${newSystemName} -AccountName ${ManagedAccount} -propsToList accountname,requireTicketForRequest,requireTicketForAPI,requireTicketForCLI,requireTicketForISA   |contains       |${ManagedAccount}\s+${specValue}\s+${specValue}\s+${defValue}\s+${specValue}                                                                                                                                               |
|List Accounts by filter|-systemName ${newSystemName} -AccountName ${ManagedAccount}Sec -propsToList accountname,requireTicketForRequest,requireTicketForAPI,requireTicketForCLI,requireTicketForISA|contains       |${ManagedAccount}Sec\s+${defValue}\s+${defValue}\s+${defValue}\s+${defValue}                                                                                                                                               |
|List Accounts by filter|-systemName ${newSystemName} -AccountName ${ManagedAccount}2 -propsToList accountname,requireTicketForCLI,ticketEmailNotify                                                |contains       |${ManagedAccount}2\s+${specValue}\s+${sendEmail}                                                                                                                                                                           |
|Delete System          |${newSystemName}                                                                                                                                                                                                                                                                                                                                                                                                       |
|Delete managed account |${ManagedAccount}                                                                                                                                                          |on system      |${TemplateName}                                                                                                                                                                                                            |
|Delete managed account |${ManagedAccount}2                                                                                                                                                         |on system      |${TemplateName}                                                                                                                                                                                                            |
|Delete managed account |${ManagedAccount}Sec                                                                                                                                                       |on system      |${TemplateName}                                                                                                                                                                                                            |
