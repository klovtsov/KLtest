!include -c <AutomatedTesting.ScenarioLibrary
!include -c <AutomatedTesting.CliScenarios.ScenarioLibrary
!include -c ScenarioLibrary

!|script                                                                              |
|Login               |${TPAMAdminURL}       |             |${TPAMMaster}||${MasterPwd}|
|pause               |5000                                                            |
|Select Password Rule|${PasswdRuleName}                                               |
|Set                 |MinChars              |equal to     |20                         |
|Set                 |MaxChars              |equal to     |50                         |
|Select value        |AlphaNumeric Permitted|for          |ReqFirst                   |
|Select value        |AlphaNumeric Permitted|for          |ReqLast                    |
|Select value        |Not Permitted         |for          |ReqUpper                   |
|Select value        |Not Permitted         |for          |ReqLower                   |
|Select value        |Permitted             |for          |ReqNum                     |
|Select value        |Not Permitted         |for          |CRepeat                    |
|pause               |5000                                                            |
|click               |id=SubmitChangesButton                                          |
|Reset Password      |${ManagedAccount}     |             |${ResetPasswordSuccessful} |
|Get Generated Password                                                               |
|check not           |echo                  |$GeneratedPwd|=~/([0-9])\1+/             |
|Reset Password      |${ManagedAccount}     |             |${ResetPasswordSuccessful} |
|Get Generated Password                                                               |
|check not           |echo                  |$GeneratedPwd|=~/([0-9])\1+/             |
|Reset Password      |${ManagedAccount}     |             |${ResetPasswordSuccessful} |
|Get Generated Password                                                               |
|check not           |echo                  |$GeneratedPwd|=~/([0-9])\1+/             |

