!|scenario         |Create request for accounts by|username            |using filter           |filter           |
|$res =            |GroovyWebDriver               |makeMultiRequest;${TPAMHost};@username;${UserPwd};@filter;test|
|Verify_Contain_NOT|$res;;something went wrong                                                                   |
|$RequestID=       |get_RequestID                 |$res                                                          |

!|scenario         |Create session request by|username     |for accounts     |acntfilter     |from systems     |systmFilter     |
|$res =            |GroovyWebDriver          |requestSession;${TPAMHost};@username;${UserPwd};make;@systmFilter;@acntfilter;test|
|Verify_Contain_NOT|$res;;something went wrong                                                                                  |
|$RequestID=       |get_RequestID            |$res                                                                              |

!|scenario         |Approve multi-request by|username                                                            |
|$res =            |GroovyWebDriver         |approveMultiRequest;${TPAMHost};@username;${UserPwd};$RequestID;test|
|Verify_Contain_NOT|$res;;something went wrong                                                                   |

!|scenario         |Approve multi-request for|account          |from system          |system         |by         |username         |
|$res =            |GroovyWebDriver          |approveMultiRequest;${TPAMHost};@username;${UserPwd};$RequestID;test;@system;@account|
|Verify_Contain_NOT|$res;;something went wrong                                                                                     |

!|scenario         |Approve session multi-request by|approver                                                                  |
|$res =            |GroovyWebDriver                 |multiSessionRequest;${TPAMHost};@approver;${UserPwd};approve;$RequestID;Ok|
|Verify_Contain_NOT|$res;;something went wrong                                                                                 |

!|scenario        |Release password for|accnt    |by    |username    |and compare with    |pwd    |
|$res =           |GroovyWebDriver     |getAccountPassword;${TPAMHost};@username;${UserPwd};@accnt|
|Verify_Contain_OR|$res;;@pwd                                                                     |

!|scenario        |Request Pwd     |account                 |from system                 |system                |for                |user                |
|$res=            |PowerShellScript|addPwdRequest.ps1 ${psConnectOptions} -systemName @system -accountName @account -RequestNotes test -ForUserName @user|
|Verify_Contain_OR|$res;;submitted                                                                                                                       |
|$RequestID=      |get_RequestID   |$res                                                                                                                 |

!|scenario         |Add account    |accnt        |from system        |system        |to request        |reqID       |
|$res =            |GroovyWebDriver|addAccountToPwdRequest;${TPAMHost};${Requestor};${UserPwd};@reqID;@system;@accnt|
|Verify_Contain_NOT|$res;;something went wrong                                                                      |
|Verify_Contain_OR |$res;;submitted                                                                                 |

!|scenario         |Check that request for|accnt  |from system  |system  |has status  |reqstatus |and |tabstatus |
|$res =            |GroovyWebDriver       |checkPwdNotApproved;${TPAMHost};${Requestor};${UserPwd};@system;@accnt|
|Verify_Contain_OR |$res;;@reqstatus                                                                             |
|Verify_Contain_OR |$res;;@tabstatus                                                                             |
|Verify_Contain_NOT|$res;;something went wrong                                                                   |

!|scenario     |Get Next Request ID                      |
|$res =        |GroovyWebDriver|getNextRequest;$RequestID|
|$FollowingReq=|get_RequestID  |$res                     |

!|scenario        |Submit Comment for multi request|user                                 |                                |reqId                                |
|$res=            |GroovyWebDriver                 |SubmitReviewCommentForMultyReqst;${TPAMHost};@user;${UserPwd};@reqId;This comment submitted by @reviewerName|
|Verify_Contain_OR|$res;;Comment submitted                                                                                                                      |

!|scenario         |Cancel multi-request by|user                                                               |
|$res =            |GroovyWebDriver        |cancelMultiRequest;${TPAMHost};@user;${UserPwd};$RequestID;AllRight|
|Verify_Contain_NOT|$res;;something went wrong                                                                 |

!|scenario         |Cancel multi-request to|accname          |from system          |sysname          |by          |user          |
|$res =            |GroovyWebDriver        |cancelMultiRequest;${TPAMHost};@user;${UserPwd};$RequestID;AllRight;@sysname;@accname|
|Verify_Contain_NOT|$res;;something went wrong                                                                                   |

!|scenario         |Cancel multi session request by|user                                                                       |
|$res =            |GroovyWebDriver                |multiSessionRequest;${TPAMHost};@user;${UserPwd};cancel;$RequestID;AllRight|
|Verify_Contain_NOT|$res;;something went wrong                                                                                 |


!|scenario         |Submit Comment for multi request|user                    |                    |reqID                    |
|$res =            |GroovyWebDriver                 |reviewMultiRequest;${TPAMHost};@user;${UserPwd};@reqID;comment;Reviewed|
|Verify_Contain_NOT|$res;;something went wrong;;trouble to find element                                                     |

!|scenario         |Submit Comment only for|accnt            |from system            |system            |by           |user           |
|$res =            |GroovyWebDriver        |reviewMultiRequest;${TPAMHost};@user;${UserPwd};$RequestID;comment;Reviewed;@system;@accnt|
|Verify_Contain_NOT|$res;;something went wrong;;trouble to find element                                                               |

!|scenario         |Complete Review for multi request|user                    |                    |reqID                   |
|$res =            |GroovyWebDriver                  |reviewMultiRequest;${TPAMHost};@user;${UserPwd};@reqID;complete;Finish|
|Verify_Contain_NOT|$res;;something went wrong;;trouble to find element                                                     |

!|scenario         |Complete Review only for|accnt            |from system            |system            |by            |user           |
|$res =            |GroovyWebDriver         |reviewMultiRequest;${TPAMHost};@user;${UserPwd};$RequestID;complete;Reviewed;@system;@accnt|
|Verify_Contain_NOT|$res;;something went wrong;;trouble to find element                                                                 |

!|scenario         |Submit Comment for session multi request|user                       |                       |reqID                      |
|$res =            |GroovyWebDriver                         |multiSessionRequest;${TPAMHost};@user;${UserPwd};review;@reqID;comment;Reviewed|
|Verify_Contain_NOT|$res;;something went wrong;;trouble to find element                                                                     |

!|scenario         |Complete Review for session multi request|user                        |                       |reqID                       |
|$res =            |GroovyWebDriver                          |multiSessionRequest;${TPAMHost};@user;${UserPwd};review;@reqID;complete;Completed|
|Verify_Contain_NOT|$res;;something went wrong;;trouble to find element                                                                        |

!|scenario        |Check Password Review Status|reviewerName          |          |requestID          |          |status          |
|$res=            |GroovyWebDriver             |CheckPasswordReviewStatus;${TPAMHost};@reviewerName;${UserPwd};@requestID;@status|
|Verify_Contain_OR|$res;;@status                                                                                                 |

!|scenario        |Check Session Review Status|account           |           |requestID          |          |status          |
|$res=            |GroovyWebDriver            |CheckSessionReviewStatus;${TPAMHost};${Reviewer};${UserPwd};@requestID;@status|
|Verify_Contain_OR|$res;;@status                                                                                             |

!|scenario         |Open session with RequestID|ID                                                               |
|$res =            |GroovyWebDriver            |multiSessionRequest;${TPAMHost};${Requestor};${UserPwd};login;@ID|
|Verify_Contain_NOT|$res;;something went wrong                                                                   |
