!*> Short description
Options that are specific for Windows Active Directory System:
DomainName,NetBiosName,Non-Privileged Functional Account
*!
!include <AutoTestsWebDrv.PlatformsTesting.EdmzSpcwDc2
!define SystemName {${prefix}_winad}
!define SystemPlatform {Windows Active Dir}
!define dcName {w2k8r2DC}
!define newSystemAddress {5.4.3.6}

!include -c <AutoTestsWebDrv.AccountDiscovery.ScenarioLibrary
!include -c <AutoTestsWebDrv.PowerShellNetApiScenarios.ScenarioLibrary
!include -c <PropagateOptionsFromTemplate.ScenarioLibrary

!4 Create system, make template from system and create system from template
!|script                                                                                                                                                                                                                                                                                                                 |
|Add system          |${SystemName}   |with address   |${SystemAddress}                                                      |platform    |"${SystemPlatform}"|managed by|${FunctAcct}|additional parameters|-functAcctPwd ${FunctAcctPwd} -domainName ${DomainName} -NetBiosName ${NETBIOSDomainName} -NonPrivFuncFlag Y|
|Make System Template|${TemplateName} |from           |${SystemName}                                                         |with account|${FunctAcct}                                                                                                                                                                  |
|Try to Add system   |${newSystemName}|with parameters|-systemAddress ${newSystemAddress} -templateSystemName ${TemplateName}|with result |System changes for ${newSystemName} saved successfully                                                                                                                        |

!4 Check new system properties
!|script                                                                                                                                                                       |
|List Systems by|-systemName ${newSystemName}|output params|SystemName,domainName,netBIOSName,nonPrivFuncFl|contain|${newSystemName}\s+${DomainName}\s+${NETBIOSDomainName}\s+Y|
