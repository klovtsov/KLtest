!define RequestorMobileUser {${prefix}ReqMobileUser}
!define ApproverMobileUser {${prefix}ApprMobileUser}
!define MobileUserPwd {Password2}

!define SystemName {${prefix}MobileSystem}
!define AccountName {Account}
!define AccountPwd {Password42}

!define FilePath {${ProjDir}\Scripts\Temp\}
!define FileName {${prefix}MobileFile}
!define FileEmailAddr {${prefix}MobileFile@email.com}



!include -c <AutoTestsWebDrv.EmailScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.UsersTests.UserTypes.ScenarioLibrary
!include -c <AutoTestsWebDrv.MobileInterface.ScenarioLibrary


!|script                                                                                                                                                                                                                                         |
|Add User          |${CLIBatch}           ||--UserName ${RequestorMobileUser} --FirstName User --LastName Mobile --Password Password1 --UserType Admin --MobileAllowedFlag Y --Phone 123456 --Email mail@mail.mail||successfully                 |
|Add User          |${CLIBatch}           ||--UserName ${ApproverMobileUser} --FirstName User --LastName Mobile --Password Password1 --UserType Admin --MobileAllowedFlag Y                                       ||successfully                 |
|Add System        |${CLIBatch}           ||--SystemName ${SystemName} --Platform Windows --NetworkAddress 1.1.1.1                                                                                                ||successfully                 |
|Add Account       |${CLIBatch}           ||--SystemName ${SystemName} --AccountName ${AccountName} --Password ${AccountPwd}                                                                                      ||successfully                 |
|Create File       |${FilePath}           ||${FileName}                                                                                                                                                                                          |
|Add File          |${SystemName}         ||${FileName}.txt                                                                                                                                                       ||${FileEmailAddr}||${FilePath}|
|Set Access Policy |${CLIBatch}           ||--SystemName ${SystemName} --Action ADD --AccessPolicyNam Requestor --UserName ${RequestorMobileUser}                                                                 ||successfully                 |
|Set Access Policy |${CLIBatch}           ||--SystemName ${SystemName} --Action ADD --AccessPolicyNam Approver --UserName ${ApproverMobileUser}                                                                   ||successfully                 |
|pause             |60000                                                                                                                                                                                                                        |
|Change Pwd        |${RequestorMobileUser}||Password1                                                                                                                                                             ||${MobileUserPwd}             |
|Change Pwd        |${ApproverMobileUser} ||Password1                                                                                                                                                             ||${MobileUserPwd}             |
|Add Request       |Password                                                                                                                                                                                                                     |
|Verify Passord Request                                                                                                                                                                                                                          |
|Approve Request                                                                                                                                                                                                                                 |
|Verify Passord Approve                                                                                                                                                                                                                          |
|Retrieve Password                                                                                                                                                                                                                               |
|Cancel Request                                                                                                                                                                                                                                  |
|Verify Passord Cancel Request                                                                                                                                                                                                                   |
|Update PSM Account|${CLIBatch}           ||--System ${SystemName} --Account ${AccountName} --EnableFlag Y --ProxyType \"RDP - Automatic Login Using Password\"                                                   ||successfully                 |
|Add Request       |Session                                                                                                                                                                                                                      |
|Verify Session Request                                                                                                                                                                                                                          |
|Approve Request                                                                                                                                                                                                                                 |
|Verify Session Approve                                                                                                                                                                                                                          |
|Cancel Request                                                                                                                                                                                                                                  |
|Verify Session Cancel Request                                                                                                                                                                                                                   |
|Add Request       |File                                                                                                                                                                                                                         |
|Verify File Request                                                                                                                                                                                                                             |
|Approve Request                                                                                                                                                                                                                                 |
|Verify File Approve                                                                                                                                                                                                                             |
|Cancel Request                                                                                                                                                                                                                                  |
|Verify File Cancel Request                                                                                                                                                                                                                      |



!|script                                                                   |
|Delete User  |${CLIBatch}||--UserName ${RequestorMobileUser}||successfully|
|Delete User  |${CLIBatch}||--UserName ${ApproverMobileUser} ||successfully|
|Delete System|${CLIBatch}||--SystemName ${SystemName}       ||successfully|
