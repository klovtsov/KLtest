!*> Some notes
The ticket system settings should be pushed to all Auto and Manual managed accounts.
*!

!define SystemName {${prefix}FileServer}
!define SystemPlatform {Linux}
!define SystemAddress {10.30.33.54}
!define FunctAcct {master}
!define FunctAcctPwd {MaSter}
!define SystemDescription {aa}
!define FileName {${prefix}Origin}
!define FilePath {c:\}
!define FileEmailAddr {${prefix}FileEmailAddr0@tpam.spb.qsft}
!define FileDesc {${prefix}FileDesc} 
!define tctSysEmail {biliter@mail.ru}
!define ticketSystemName {${prefix}Bileter}

!*> Including section
!include -c <AutoTestsWebDrv.ScenarioLibrary
!include -c <AutoTestsWebDrv.TicketSystemScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.TicketSystemScenarios.Test04ManualTicketSystem.ScenarioLibrary
!include -c <AutoTestsWebDrv.EmailScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.PowerShellNetApiScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.MiscellaneousTests.ManagedAccountOptions.ScenarioLibrary
*!

!4 Prepare test
!|script                                             |
|Add system                                          |
|Create Manual Ticket System|${ticketSystemName}     |
|Create File                |${FilePath}||${FileName}|
|Add File                                            |

!4 Set Ticket system settings and push from system 
!|script                                                                                                                                                                                             |
|Update System                           |${SystemName}|                   |-TicketSystemName ${ticketSystemName} -TicketEmailNotify ${tctSysEmail} -RequireTicketForRequest Y -RequireTicketForPSM Y|
|Pull Ticket Defaults from system to file|${FileName}                                                                                                                                                |
|Check Ticket settings for File          |${FileName}  |require for Release|true     |require for ISA     |false     |Ticket system     |${ticketSystemName}     |notify email    |${tctSysEmail}    |

!|script                                                                                                                                             |
|Update System                           |${SystemName}|                   |-RequireTicketForISA Y                                                   |
|Pull Ticket Defaults from system to file|${FileName}                                                                                                |
|Check Ticket settings for File          |${FileName}  |require for Release|true|require for ISA|true|Ticket system|${ticketSystemName}|notify email||

!*> Return default values
!|script                                 |
|Delete Ticket System|${ticketSystemName}|
|Delete system       |${SystemName}      |
*!
