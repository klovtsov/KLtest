!define testUser {${prefix}listUser}
!define testGroup {${prefix}listGroup}
!define groupDescription {Test group for list command}

!include -c <PowerShellNetApiScenarios.ScenarioLibrary

!|script                                                                                               |
|Add User                        |${testUser}                                                          |
|Add Group                       |${testGroup}                                                         |
|Add Member                      |${testUser}            |to group           |${testGroup}             |
|List Groups by filter           |-groupName ${testGroup}|and result contains|${testGroup}             |
|List Groups by filter           |-userName ${testUser}  |and result contains|${testGroup}             |
|List Groups Membership by filter|-groupName ${testGroup}|and result contains|${testGroup}.*${testUser}|
|List Groups Membership by filter|-userName ${testUser}  |and result contains|${testGroup}.*${testUser}|
|Delete User                     |${testUser}                                                          |
|Delete Group                    |${testGroup}                                                         |
