!define testUser {${prefix}listUser}
!define testUser2 {${prefix}AnothUser}
!define TestUserFirstName {Lalex}
!define TestUserLastName {Ugly}
!define cstmFieldValue {awe123}
!define cstmFieldValue2 {awe124}
!include -c <PowerShellNetApiScenarios.ScenarioLibrary

!|script                                                                                                                          |
|Add User           |${testUser}                                          |with options               |-custom2 ${cstmFieldValue} |
|Add User           |${testUser2}                                         |with options               |-custom2 ${cstmFieldValue2}|
|List User by filter|-userName ${prefix}*  -UserCustom2 ${cstmFieldValue2}|and result contains        |${testUser2}               |
|List User by filter|-userName ${prefix}*  -UserCustom2 ${cstmFieldValue2}|and result does not contain|${testUser}                |
|Update User        |${testUser}                                          |                           |-custom2 ${cstmFieldValue2}|
|List User by filter|-userName ${prefix}*  -UserCustom2 ${cstmFieldValue2}|and result contains        |${testUser}                |
|Delete User        |${testUser}                                                                                                  |
|Delete User        |${testUser2}                                                                                                 |

