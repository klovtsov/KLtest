!define accountLockedMessage {The account is currently locked and must be unlocked before the password can be}
!define pwdRetrieveFailedMessage {The account is locked.*Password cannot be retrieved at this time}
!include -c <AutoTestsWebDrv.ScenarioLibrary
!include -c <AutoTestsWebDrv.CliScenarios.ScenarioLibrary
!include -c ScenarioLibrary

!|script                                                          |
|Open          |${TPAMURL}       ||${TPAMAdmin}  | |${DefaultPwd} |
|Set Account is Locked                                            |
|Reset Password|${ManagedAccount}||${accountLockedMessage} reset  |
|Check Password|${ManagedAccount}||${accountLockedMessage} checked|
|Request Pwd                                                      |
|Approve Pwd                                                      |
|Retrieve Pwd failed                                              |
|Set Account is Unlocked                                          |
|Successfully Retrieve Pwd                                        |
|Reset Password|${ManagedAccount}||${ResetPasswordSuccessful}     |
|Check Password|${ManagedAccount}||${CheckPasswordSuccessful}     |
|Cancel Request                                                   |
