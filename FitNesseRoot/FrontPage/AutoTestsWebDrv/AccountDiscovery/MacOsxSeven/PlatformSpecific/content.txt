!|scenario|Retrieve Standard Key                 |keyFormat                 |
|CLItoFile|${sysCLIBatch} SSHKey --StandardKey id_dsa --KeyFormat @keyFormat|
|runBatch |movekey;${ProjDir}\cliout.tmp;${KeyFile}                         |

!|scenario|Copy key to system                                |secureflag                                |
|runBatch |SshKeymac.bat;${SystemAddress};${rootAcct};${rootAcctPwd};${FunctAcct};${KeyFile};@secureflag|

!|scenario            |Set Connection Tab                     |
|waitForElementPresent|id=Connection     |                    |
|click                |id=Connection     |                    |
|type;                |id=PARFuncAcct    |${FunctAcct}        |
|click                |id=rb_DSS         |                    |
|type;                |id=Timeout        |${SystemTimeout}    |
|click                |id=bt_Save        |                    |
|waitForTextPresent   |System changes for * saved successfully|
|Choose Account       |${FunctAcct}                           |
|Set description      |${FunctAcctDescription}                |

!|scenario         |Set Template                           |
|click             |id=Template                            |
|pause             |5000                                   |
|click             |id=cbxTemplateFl                       |
|pause             |5000                                   |
|click             |id=cbxRetainAccounts                   |
|pause             |5000                                   |
|click             |id=cb_acct_acctrow_1                   |
|pause             |10000                                  |
|click             |id=Details                             |
|type;             |id=SystemName     |${TemplateName}     |
|pause             |5000                                   |
|click             |id=bt_Save                             |
|waitForTextPresent|System changes for * saved successfully|

!|scenario            |Account Discovery                      |
|Open                 |${TPAMURL}||${TPAMAdmin}||${DefaultPwd}|
|Create Environment                                           |
|Retrieve Standard Key|OpenSSH                                |
|Copy key to system   |OpenSSH                                |
|New Account Action                                           |
|Delete Account Action                                        |
|Delete Environment                                           |

!|scenario|Add Detail                  |Index||NewAccountAction||TemplateAccount||EmailAddresses||UID||SID||Name||Group||Role||Task||Service|
|click    |id=btnAddRow                                                                                                                     |
|select;  |className=autoNewAction     |label=@NewAccountAction                                                                             |
|select;  |className=autoAcctTemplate  |label=@TemplateAccount                                                                              |
|type;    |className=autoEmailAddresses|@EmailAddresses                                                                                     |
|type;    |className=autoUIDFilter     |@UID                                                                                                |
|type;    |className=autoNameFilter    |@Name                                                                                               |
|type;    |className=autoGroupFilter   |@Group                                                                                              |
