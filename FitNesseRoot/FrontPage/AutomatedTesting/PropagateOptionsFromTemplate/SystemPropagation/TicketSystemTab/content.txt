!* Test description
Options on ticket system tab.
*!
!define defValue {N}
!define specValue {Y}
!define sendEmail {blabla@tpam.com}
!define newSystemAddress {10.30.45.65}

!include -c <AutomatedTesting.AccountDiscovery.ScenarioLibrary
!include -c <AutomatedTesting.PowerShellNetApiScenarios.ScenarioLibrary
!include -c <PropagateOptionsFromTemplate.ScenarioLibrary

!4 Create system, make template from system and create system from template
!|script                                                                                                                                                                                                                                                                                                                                                                             |
|Add system          |${SystemName}   |with address   |${SystemAddress}                                                      |platform    |${SystemPlatform}|managed by|${FunctAcct}|additional parameters|-RequireTicketForRequest ${specValue} -RequireTicketForAPI ${specValue} -RequireTicketForCLI ${specValue} -RequireTicketForISA ${defValue} -TicketEmailNotify ${sendEmail}|
|Make System Template|${TemplateName} |from           |${SystemName}                                                         |with account|${FunctAcct}                                                                                                                                                                                                                              |
|Try to Add system   |${newSystemName}|with parameters|-systemAddress ${newSystemAddress} -templateSystemName ${TemplateName}|with result |System changes for ${newSystemName} saved successfully                                                                                                                                                                                    |

!4 Check new system properties
!|script                                                                                                                                                                                                        |
|List Systems by|-systemName ${newSystemName}|output params|requireTicketForRequest,requireTicketForAPI,requireTicketForCLI,requireTicketForISA|contain|${specValue}\s+${specValue}\s+${specValue}\s+${defValue}|
|List Systems by|-systemName ${newSystemName}|output params|systemName,ticketEmailNotify                                                       |contain|${newSystemName}\s+${sendEmail}                         |
