!contents


!|scenario|Create Jump Box Environment|
|Create Jump Box                      |
|Create Custom Jump Box Platform      |

!|scenario  |Test CLI Custom Platform |
|Prepare CLI Test                     |
|Check CLI Tag Values Sent To Jump Box|
|PPM CLI Regular Activity             |
|Clear CLI Test                       |


!|scenario  |Test UI Custom Platform |
|Prepare UI Test                     |
|Check UI Tag Values Sent To Jump Box|
|PPM UI Regular Activity             |
|Test DPA                            |
|Clear UI Test                       |


!|scenario         |Create Jump Box                                                                                                                        |
|Login             |${TPAMURL}                         |                  |${TPAMAdmin}                  |                  |${DefaultPwd}                 |
|pause             |5000                                                                                                                                   |
|clickAndWait      |link=Jump Box                                                                                                                          |
|pause             |3000                                                                                                                                   |
|click             |id=AddServerButton                                                                                                                     |
|pause             |5000                                                                                                                                   |
|type;             |id=JumpBoxName                     |${JumpBoxName}                                                                                     |
|type;             |id=NetworkAddress                  |${JumpBoxAddress}                                                                                  |
|type;             |id=Timeout                         |${JumpBoxTimeout}                                                                                  |
|type;             |id=Port                            |${JumpBoxPort}                                                                                     |
|type;             |id=AccountName                     |${JumpBoxAccount}                                                                                  |
|type;             |id=Comments                        |${JumpBoxDescription}                                                                              |
|click             |id=SubmitChanges                                                                                                                       |
|waitForTextPresent|saved successfully                                                                                                                     |
|$res=             |getText                            |//div[@id='ResultsDiv']                                                                            |
|Verify_Contain_OR |$res;;saved successfully                                                                                                               |
|pause             |1000                                                                                                                                   |
|click             |id=btGeneratePair0                                                                                                                     |
|waitForTextPresent|The key was successfully reset for ${JumpBoxName}                                                                                      |
|click             |id=TestButton                                                                                                                          |
|waitForTextPresent|Permission denied                                                                                                                      |
|$res=             |getText                            |//div[@id='resultsTab']                                                                            |
|Verify_Contain_OR |$res;;Permission denied                                                                                                                |
|click             |id=btDnldSpcOpenSSH                                                                                                                    |
|pause             |10000                                                                                                                                  |
|runBatch          |UploadPublicSSHKey.bat;${JumpBoxAddress};${JumpBoxRoot};${JumpBoxRootPassword};${JumpBoxAccount};${BrowserDownloadDir};authorized_keys2|
|pause             |10000                                                                                                                                  |
|click             |id=TestButton                                                                                                                          |
|waitForTextPresent|SUCCESS NOTIFICATION                                                                                                                   |
|$res=             |getText                            |//div[@id='resultsTab']                                                                            |
|Verify_Contain_OR |$res;;SUCCESS NOTIFICATION                                                                                                             |
|runBatch          |UploadCustomScript.bat;${JumpBoxAddress};${JumpBoxRoot};${JumpBoxRootPassword};${JumpBoxScript};/usr/bin                               |
|pause             |10000                                                                                                                                  |

!|scenario         |Create Custom Jump Box Platform                        |
|Login             |${TPAMURL}           |  |${TPAMAdmin} | |${DefaultPwd} |
|pause             |10000                                                  |
|clickAndWait      |link=Custom Platforms                                  |
|pause             |3000                                                   |
|click             |id=btnAddPlatform                                      |
|pause             |1000                                                   |
|type;             |id=CustomPlatformName|${CustomPlatformName}            |
|type;             |id=Description       |${CustomPlatformName} Description|
|select;           |id=PlatformTypeID    |label=Jump Box                   |
|pause             |1000                                                   |
|type;             |id=Port              |${WrongCustomPLatformPort}       |
|select;           |id=JumpBoxID         |label=${JumpBoxName}             |
|type;             |id=ScriptName        |${JumpBoxScript}                 |
|click             |id=SSHFl                                               |
|click             |id=PasswordFl                                          |
|type;             |id=PlatSpecificLabel |My Label                         |
|click             |id=EnablePwdFl                                         |
|click             |id=NetBiosNameFl                                       |
|click             |id=DomainNameFl                                        |
|click             |id=ActiveFl                                            |
|pause             |1000                                                   |
|click             |id=AutomationActiveFl                                  |
|click             |id=btnSavePlatform                                     |
|waitForTextPresent|saved successfully                                     |
|$res=             |getText              |//div[@id='ResultsDiv']          |
|Verify_Contain_OR |$res;;saved successfully                               |
#|click             |id=AutomationActiveFl                                  |

!|scenario            |Delete Custom Jump Box Platform                                                                         |
|Login                |${TPAMURL}             |             |${TPAMAdmin}             |             |${DefaultPwd}             |
|pause                |10000                                                                                                   |
|clickAndWait         |link=Custom Platforms                                                                                   |
|click                |id=Listing                                                                                              |
|pause                |1000                                                                                                    |
|waitForElementPresent|//td[contains(text(),'${CustomPlatformName}')]                                                          |
|mouseDown            |//td[contains(text(),'${CustomPlatformName}')]                                                          |
|click                |//td[contains(text(),'${CustomPlatformName}')]                                                          |
|pause                |1000                                                                                                    |
|click                |id=btnDeletePlatform                                                                                    |
|getConfirmation                                                                                                               |
|waitForTextPresent   |deleted successfully                                                                                    |
|$res=                |getText                |//div[@id='ResultsDiv']                                                         |
|Verify_Contain_OR    |$res;;deleted successfully                                                                              |
|pause                |3000                                                                                                    |
|runBatch             |RemoveCustomScript.bat;${JumpBoxAddress};${JumpBoxRoot};${JumpBoxRootPassword};${JumpBoxScript};/usr/bin|
|pause                |10000                                                                                                   |

!|scenario|Remove Jump Box Environment|
|Delete Custom Jump Box Platform      |
|Delete Jump Box                      |
|Logout                               |


!|scenario                                   |Delete Jump Box                                 |
|Login                                       |${TPAMURL}  |  |${TPAMAdmin}  |  |${DefaultPwd} |
|pause                                       |5000                                            |
|clickAndWait                                |link=Jump Box                                   |
|pause                                       |3000                                            |
|waitForElementPresent                       |//td[contains(text(),'${JumpBoxName}')]         |
|mouseDown                                   |//td[contains(text(),'${JumpBoxName}')]         |
|click                                       |//td[contains(text(),'${JumpBoxName}')]         |
|pause                                       |1000                                            |
|click                                       |id=ClearButton                                  |
|pause                                       |1000                                            |
|waitForTextPresent                          |*The results from the clearing*                 |
|$res=                                       |getText     |//div[@id='resultsTab']            |
|Verify_Contain_OR                           |$res;;Cleared ${JumpBoxAddress} from known_hosts|
|click                                       |id=DeleteButton                                 |
|getConfirmation                                                                              |
|pause                                       |1000                                            |
|waitForTextPresent                          |successfully                                    |
|$res=                                       |getText     |//div[@id='ResultsDiv']            |
|Verify_Contain_OR                           |$res;;successfully                              |
|Check Host Key is Not Present in Known Hosts|${JumpBoxAddress}                               |


!|scenario|Create OUs                                                                                                         |
|runBatch |LDAPAction;createou;${SystemAddress};ou=${UserContainerName},${BaseName};${FuncAcctDescription};${FuncAcctPassword}|

!|scenario|Create User in Directory                                                            |userName                                                            |
|runBatch |LDAPAction;createuser;${SystemAddress};ou=${UserContainerName},${BaseName};${FuncAcctDescription};${FuncAcctPassword};@userName;${ManagedAccountPassword}|

!|scenario|Delete OUs                                                                                                         |
|runBatch |LDAPAction;deleteou;${SystemAddress};ou=${UserContainerName},${BaseName};${FuncAcctDescription};${FuncAcctPassword}|

!|scenario|Delete User in Directory                                               |userName                                               |
|runBatch |LDAPAction;deleteuser;${SystemAddress};ou=${UserContainerName},${BaseName};${FuncAcctDescription};${FuncAcctPassword};@userName|

!|scenario                    |Prepare UI Test                                |
|Login                        |${TPAMURL}       ||${TPAMAdmin} ||${DefaultPwd}|
|Create Users                                                                 |
|Login                        |${TPAMURL}       ||${TPAMAdmin} ||${DefaultPwd}|
|Add UI System                                                                |
|Update UI Account Description|${FuncAcct}      ||${FuncAcctDescription}      |
|Create OUs                                                                   |
|Create User in Directory     |${ManagedAccount}                              |
|Add UI Account               |${ManagedAccount}                              |
|Update UI Account Description|${ManagedAccount}||${ManagedAccountDescription}|

!|scenario                     |Prepare CLI Test                               |
|Login                         |${TPAMURL}       ||${TPAMAdmin} ||${DefaultPwd}|
|Add CLI System                                                                |
|Update CLI Account Description|${FuncAcct}      ||${FuncAcctDescription}      |
|Create OUs                                                                    |
|Create User in Directory      |${ManagedAccount}                              |
|Add CLI Account               |${ManagedAccount}                              |
|Update CLI Account Description|${ManagedAccount}||${ManagedAccountDescription}|


!|scenario               |Clear UI Test                          |
|Login                   |${TPAMURL}||${TPAMAdmin}||${DefaultPwd}|
|Remove Users                                                    |
|Remove UI System                                                |
|Delete User in Directory|${ManagedAccount}                      |
|Delete OUs                                                      |


!|scenario                  |Clear CLI Test                         |
|Login                      |${TPAMURL}||${TPAMAdmin}||${DefaultPwd}|
|Revoke CLI User Permissions|${CLI_user_1}                          |
|Revoke CLI User Permissions|${CLI_user_2}                          |
|Remove CLI System                                                  |
|Hard-Delete System         |${SystemName}                          |
|Delete User in Directory   |${ManagedAccount}                      |
|Delete OUs                                                         |


!|scenario    |Create Account on System                                                                                                                            |
|accountAction|${SystemPlatform};;create;;${SystemIPAddress};;${Context};;${FuncAcctDescription};;${FuncAcctPassword};;${ManagedAccount};;${ManagedAccountPassword}|

!|scenario    |Change Account Password on System                                              |NewPwd                                              |
|accountAction|${SystemPlatform};;password;;${SystemIPAddress};;${Context};;${FuncAcctDescription};;${FuncAcctPassword};;${ManagedAccount};;@NewPwd|

!|scenario    |Login Account to System                                 |ManPwd                                |
|accountAction|${SystemPlatform};;login;;${SystemIPAddress};;${Context};;${ManagedAccountDescription};;@ManPwd|

!|scenario    |Delete Account on System                                                                                                 |
|accountAction|${SystemPlatform};;delete;;${SystemIPAddress};;${Context};;${FuncAcctDescription};;${FuncAcctPassword};;${ManagedAccount}|


!|scenario         |Test System                 |testResult                             |
|Choose System     |${SystemName}                                                       |
|click             |id=bt_Test                                                          |
|waitForTextPresent|*from the test of system*                                           |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional credentials        |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Address                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Port                          |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Timeout                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Platform specific value       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account Description|
|verifyText        |//div[@id='ResultDetailDiv']||Sending Enable credentials            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Domain Name                   |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Netbios Domain Name           |
|verifyText        |//div[@id='ResultDetailDiv']||@testResult                           |

!|scenario         |Test DPA System             |testResult                             |
|Choose System     |${SystemName}                                                       |
|click             |id=bt_Test                                                          |
|waitForTextPresent|*from the test of system*                                           |
|verifyText        |//div[@id='ResultDetailDiv']||Processing the request on the DPA at  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional credentials        |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Address                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Port                          |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Timeout                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Platform specific value       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account Description|
|verifyText        |//div[@id='ResultDetailDiv']||Sending Enable credentials            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Domain Name                   |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Netbios Domain Name           |
|verifyText        |//div[@id='ResultDetailDiv']||@testResult                           |



!|scenario         |Check Password              |testResult                             |
|click             |id=CheckPassButton                                                  |
|waitForTextPresent|*Results from the*                                                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional credentials        |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Address                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Port                          |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Timeout                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Platform specific value       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account Description|
|verifyText        |//div[@id='ResultDetailDiv']||Sending Enable credentials            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Domain Name                   |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Netbios Domain Name           |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Account Name                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Stored Password               |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Account Description           |
|verifyText        |//div[@id='ResultDetailDiv']||@testResult                           |


!|scenario         |Check DPA Password          |testResult                             |
|click             |id=CheckPassButton                                                  |
|waitForTextPresent|*Results from the*                                                  |
|verifyText        |//div[@id='ResultDetailDiv']||Processing the request on the DPA at  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional credentials        |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Address                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Port                          |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Timeout                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Platform specific value       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account Description|
|verifyText        |//div[@id='ResultDetailDiv']||Sending Enable credentials            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Domain Name                   |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Netbios Domain Name           |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Account Name                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Stored Password               |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Account Description           |
|verifyText        |//div[@id='ResultDetailDiv']||@testResult                           |


!|scenario         |Reset Password              |testResult                             |
|click             |id=ResetPassButton                                                  |
|waitForTextPresent|*Results from the*                                                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional credentials        |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Address                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Port                          |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Timeout                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Platform specific value       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account Description|
|verifyText        |//div[@id='ResultDetailDiv']||Sending Enable credentials            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Domain Name                   |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Netbios Domain Name           |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Account Name                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Stored Password               |
|verifyText        |//div[@id='ResultDetailDiv']||Sending New Password                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Managed Account Description   |
|verifyText        |//div[@id='ResultDetailDiv']||@testResult                           |


!|scenario         |Reset DPA Password          |testResult                             |
|click             |id=ResetPassButton                                                  |
|waitForTextPresent|*Results from the*                                                  |
|verifyText        |//div[@id='ResultDetailDiv']||Processing the request on the DPA at  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional credentials        |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Address                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Port                          |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Timeout                       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Platform specific value       |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Functional Account Description|
|verifyText        |//div[@id='ResultDetailDiv']||Sending Enable credentials            |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Domain Name                   |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Netbios Domain Name           |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Account Name                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Stored Password               |
|verifyText        |//div[@id='ResultDetailDiv']||Sending New Password                  |
|verifyText        |//div[@id='ResultDetailDiv']||Sending Managed Account Description   |
|verifyText        |//div[@id='ResultDetailDiv']||@testResult                           |


!| scenario       |Test CLI System|testRes                             |
|$res=            |CLI            |${CLIBatch} TestSystem ${SystemName}|
|Verify_Contain_OR|$res;;Sending Functional Account                    |
|Verify_Contain_OR|$res;;Sending Functional credentials                |
|Verify_Contain_OR|$res;;Sending Address                               |
|Verify_Contain_OR|$res;;Sending Port                                  |
|Verify_Contain_OR|$res;;Sending Timeout                               |
|Verify_Contain_OR|$res;;Sending Platform specific value               |
|Verify_Contain_OR|$res;;Sending Functional Account Description        |
|Verify_Contain_OR|$res;;Sending Enable credentials                    |
|Verify_Contain_OR|$res;;Sending Domain Name                           |
|Verify_Contain_OR|$res;;Sending Netbios Domain Name                   |
|Verify_Contain_OR|$res;;@testRes                                      |

!| scenario       |Check CLI Password|acc           |           |testRes          |
|$res=            |CLI               |${CLIBatch} CheckPassword ${SystemName},@acc|
|Verify_Contain_OR|$res;;Sending Functional Account                               |
|Verify_Contain_OR|$res;;Sending Functional credentials                           |
|Verify_Contain_OR|$res;;Sending Address                                          |
|Verify_Contain_OR|$res;;Sending Port                                             |
|Verify_Contain_OR|$res;;Sending Timeout                                          |
|Verify_Contain_OR|$res;;Sending Platform specific value                          |
|Verify_Contain_OR|$res;;Sending Functional Account Description                   |
|Verify_Contain_OR|$res;;Sending Enable credentials                               |
|Verify_Contain_OR|$res;;Sending Domain Name                                      |
|Verify_Contain_OR|$res;;Sending Netbios Domain Name                              |
|Verify_Contain_OR|$res;;Sending Account Name                                     |
|Verify_Contain_OR|$res;;Sending Stored Password                                  |
|Verify_Contain_OR|$res;;Sending Account Description                              |
|Verify_Contain_OR|$res;;@testRes                                                 |


!| scenario       |Reset CLI Password|acc          |          |testRes         |
|$res=            |CLI               |${CLIBatch} ForceReset ${SystemName},@acc|
|Verify_Contain_OR|$res;;Sending Functional Account                            |
|Verify_Contain_OR|$res;;Sending Functional credentials                        |
|Verify_Contain_OR|$res;;Sending Address                                       |
|Verify_Contain_OR|$res;;Sending Port                                          |
|Verify_Contain_OR|$res;;Sending Timeout                                       |
|Verify_Contain_OR|$res;;Sending Platform specific value                       |
|Verify_Contain_OR|$res;;Sending Functional Account Description                |
|Verify_Contain_OR|$res;;Sending Enable credentials                            |
|Verify_Contain_OR|$res;;Sending Domain Name                                   |
|Verify_Contain_OR|$res;;Sending Netbios Domain Name                           |
|Verify_Contain_OR|$res;;Sending Account Name                                  |
|Verify_Contain_OR|$res;;Sending Stored Password                               |
|Verify_Contain_OR|$res;;Sending New Password                                  |
|Verify_Contain_OR|$res;;Sending Managed Account Description                   |
|Verify_Contain_OR|$res;;@testRes                                              |


!| scenario        |Check UI Tag Values Sent To Jump Box|
|Choose System     |${SystemName}                       |
|click             |id=bt_Test                          |
|waitForTextPresent|*from the test of system*           |
|Test System Log                                        |
|Choose Account    |${ManagedAccount}                   |
|click             |id=CheckPassButton                  |
|waitForTextPresent|*Results from the*                  |
|Check Password Log                                     |
|Choose Account    |${ManagedAccount}                   |
|click             |id=ResetPassButton                  |
|waitForTextPresent|*Results from the*                  |
|Change Password Log                                    |



!| scenario|Check CLI Tag Values Sent To Jump Box                    |
|CLI       |${CLIBatch} TestSystem ${SystemName}                     |
|Test System Log                                                     |
|CLI       |${CLIBatch} CheckPassword ${SystemName},${ManagedAccount}|
|Check Password Log                                                  |
|CLI       |${CLIBatch} ForceReset ${SystemName},${ManagedAccount}   |
|Change Password Log                                                 |


!| scenario      |Test System Log                            |
|Check Log String|OPERATION:CheckSystem                      |
|Check Log String|FUNCTIONAL_ACCOUNT:${FuncAcct}             |
|Check Log String|FUNC_ACC_PASSWORD:${FuncAcctPassword}      |
|Check Log String|SYSTEM_ADDRESS:${SystemAddress}            |
|Check Log String|PORT:${SystemPort}                         |
|Check Log String|PLATFORM_SPECIFIC:${PlatformSpecificValue} |
|Check Log String|FUNC_ACC_DESCRIPTION:${FuncAcctDescription}|
|Check Log String|ENABLE_PASSWORD:${EnablePassword}          |
|Check Log String|DOMAIN:${DomainName}                       |
|Check Log String|NETBIOS:${NetBIOSDomainName}               |


!| scenario      |Check Password Log                              |
|Check Log String|OPERATION:CheckPassword                         |
|Check Log String|FUNCTIONAL_ACCOUNT:${FuncAcct}                  |
|Check Log String|FUNC_ACC_PASSWORD:${FuncAcctPassword}           |
|Check Log String|SYSTEM_ADDRESS:${SystemAddress}                 |
|Check Log String|PORT:${SystemPort}                              |
|Check Log String|PLATFORM_SPECIFIC:${PlatformSpecificValue}      |
|Check Log String|FUNC_ACC_DESCRIPTION:${FuncAcctDescription}     |
|Check Log String|ENABLE_PASSWORD:${EnablePassword}               |
|Check Log String|DOMAIN:${DomainName}                            |
|Check Log String|NETBIOS:${NetBIOSDomainName}                    |
|Check Log String|MANAGED_ACCOUNT:${ManagedAccount}               |
|Check Log String|MAN_ACC_PASSWORD:${ManagedAccountPassword}      |
|Check Log String|MAN_ACC_DESCRIPTION:${ManagedAccountDescription}|



!| scenario      |Change Password Log                             |
|Check Log String|OPERATION:ChangePassword                        |
|Check Log String|FUNCTIONAL_ACCOUNT:${FuncAcct}                  |
|Check Log String|FUNC_ACC_PASSWORD:${FuncAcctPassword}           |
|Check Log String|SYSTEM_ADDRESS:${SystemAddress}                 |
|Check Log String|PORT:${SystemPort}                              |
|Check Log String|PLATFORM_SPECIFIC:${PlatformSpecificValue}      |
|Check Log String|FUNC_ACC_DESCRIPTION:${FuncAcctDescription}     |
|Check Log String|ENABLE_PASSWORD:${EnablePassword}               |
|Check Log String|DOMAIN:${DomainName}                            |
|Check Log String|NETBIOS:${NetBIOSDomainName}                    |
|Check Log String|MANAGED_ACCOUNT:${ManagedAccount}               |
|Check Log String|OLD_MAN_ACC_PASSWORD:${ManagedAccountPassword}  |
|Check Log String|NEW_MAN_ACC_PASSWORD:                           |
|Check Log String|MAN_ACC_DESCRIPTION:${ManagedAccountDescription}|



!| scenario       |Check Log String |stringValue                                                                                     |
|$res=            |RunBatchGetOutput|CheckLogString;${JumpBoxAddress};${JumpBoxRoot};${JumpBoxRootPassword};${PathToLog};@stringValue|
|Verify_Contain_OR|$res;;1                                                                                                           |


!| scenario       |Check Regex Log String|stringValue                                                                                           |
|$res=            |RunBatchGetOutput     |CheckRegExpLogString;${JumpBoxAddress};${JumpBoxRoot};${JumpBoxRootPassword};${PathToLog};@stringValue|
|Verify_Contain_OR|$res;;1                                                                                                                      |


!|scenario         |Enable-Disable Key Authentication|
|Deactivate Platform Automation                      |
|pause             |1000                             |
|click             |id=PasswordFl                    |
|pause             |1000                             |
|click             |id=SSHFl                         |
|pause             |1000                             |
|click             |id=btnSavePlatform               |
|getConfirmation                                     |
|waitForTextPresent|saved successfully               |
|pause             |1000                             |
|click             |id=AutomationActiveFl            |
|pause             |1000                             |
|click             |id=btnSavePlatform               |
|waitForTextPresent|saved successfully               |
|$res=             |getText |//div[@id='ResultsDiv'] |
|Verify_Contain_OR |$res;;saved successfully         |


!|scenario         |Remove system                     |sysName                                      |
|Choose system     |@sysName                                                                        |
|click             |id=Details                        |                                             |
|click             |id=bt_Clear                       |                                             |
|waitForTextPresent|*The results from the clearing*                                                 |
|$res=             |getText                           |//div[@id='ResultDetailDiv']                     |
|Verify_Contain_OR |$res;;Known hosts for this system must be cleared on the Jump Box ${JumpBoxName}|
|click             |id=bt_Del                         |                                             |
|getConfirmation                                                                                    |
|waitForTextPresent|has been successfully deleted                                                   |



