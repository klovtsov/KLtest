!| scenario       |Add system                                                                                                                                                            |
|$res=            |JavaAPI|${APIBatch};addSystemLDAP;${SystemName};${SystemAddress};${SystemPlatform};${FunctAcct};${FunctAcctPwd};${SystemTimeout};${DomainName};${FunctAcctDescription}|
|Verify_Contain_OR|$res;;successful                                                                                                                                                      |


!|scenario        |Account Not there                                                                                                                                                        |
|$Months=         |getEval    |var d = new Date();d.setMinutes(d.getMinutes()+1); d.setDate(d.getDate()+1);var s = d.getMonth()+1;if ((s + "").length == 1) s = "0" + s;else d.getMonth()+1;|
|$Days=           |getEval    |var d = new Date();d.setMinutes(d.getMinutes()+1); d.setDate(d.getDate()+1);var s = d.getDate(); if ((s + "").length == 1) s = "0" + s;else d.getDate();     |
|$Years=          |getEval    |var d = new Date();d.setMinutes(d.getMinutes()+1); d.setDate(d.getDate()+1); d.getFullYear();                                                                |
|$res=            |JavaAPI    |${APIBatch};addAccount;${SystemName};AccNotThere;master ;$Months/$Days/$Years;cn=AccNotThere,${Context}                                                      |
|Verify_Contain_OR|$res;;${NotFailed}                                                                                                                                                       |
|Reset Password   |AccNotThere|                                             |${ResetPasswordFailed}                                                                                         |
|Check Password   |AccNotThere|                                             |${CheckPasswordFailed}                                            |                                            |


!| scenario    |Managed System                           |
|Create Account on System                                |
|Open          |${TPAMURL}  ||${TPAMAdmin}||${DefaultPwd}|
|Add system                                              |
|Test System   |${TestSystemSuccessful}                  |
|Set password  |${FunctAcct}||${FunctAcctWrongPwd}       |
|Test System   |${TestSystemFailed}                      |
|Check Password|${FunctAcct}||${CheckPasswordFailed}     |

!|scenario      |Set Connection Tab                                 |
|click          |id=Details              |                          |
|click          |id=Connection           |                          |
|type;          |id=PARFuncAcct          |${FunctAcct}              |
|type;          |id=pword                |${FunctAcctPwd}           |
|type;          |id=ConfPword            |${FunctAcctPwd}           |
|type;          |id=Timeout              |${SystemTimeout}          |
|type;          |id=DomainName           |${DomainName}             |
|click          |id=bt_Save              |                          |
|waitForResult  |System changes for ${SystemName} saved successfully|
|Choose Account |${FunctAcct}                                       |
|Set description|${FunctAcctDescription}                            |

!| scenario       |Add PPM account|acc     |with password     |pwd     |and profiles     |checkProfile    |    |changeProfile    |    |testRes    |
|$res=            |JavaAPI        |${APIBatch};addPpmAccountLDAP;${SystemName};@acc;@pwd;${ManagedAccountDescription};@changeProfile;@checkProfile|
|Verify_Contain_OR|$res;;@testRes                                                                                                                 |


