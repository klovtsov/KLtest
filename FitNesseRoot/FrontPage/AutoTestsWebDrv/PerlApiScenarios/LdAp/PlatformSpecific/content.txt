!| scenario       |Add system                                                                                                                                                                     |
|$res=            |PerlAPI     |${APIBatch} addSystemLDAP ${SystemName} ${SystemAddress} "${SystemPlatform}" ${FunctAcct} ${FunctAcctPwd} ${DomainName} "${FunctAcctDescription}" ${SystemTimeout}|
|Verify_Contain_OR|$res;;successful                                                                                                                                                               |
|Set description  |${FunctAcct}|                                                                     |${FunctAcctDescription}                                                                     |



!|scenario        |Account Not there                                                                                                                                             |
|$Months=         |getEval    |var d = new Date();d.setMinutes(d.getMinutes()+1); d.setDate(d.getDate()+1);var s = d.getMonth()+1;if ((s + "").length == 1) s = "0" + s;return s;|
|$Days=           |getEval    |var d = new Date();d.setMinutes(d.getMinutes()+1); d.setDate(d.getDate()+1);var s = d.getDate(); if ((s + "").length == 1) s = "0" + s;return s;  |
|$Years=          |getEval    |var d = new Date();d.setMinutes(d.getMinutes()+1); d.setDate(d.getDate()+1);return d.getFullYear();                                               |
|$res=            |PerlAPI    |${APIBatch} addAccount ${SystemName} AccNotThere master $Months/$Days/$Years                                                                      |
|Verify_Contain_OR|$res;;${NotFailed}                                                                                                                                            |
|Set description  |AccNotThere|                                                            |cn=AccNotThere,${Context}                                                            |
|Reset Password   |AccNotThere|                                                            |${ResetPasswordFailed}                                                               |
|Check Password   |AccNotThere|                                                            |${CheckPasswordFailed}                                                               |

!| scenario       |Add PPM account|acc     |with password     |pwd     |and profiles     |checkProfile     |     |changeProfile    |    |testRes    |
|$res=            |PerlAPI        |${APIBatch} addPpmAccountLDAP ${SystemName} @acc @pwd @checkProfile @changeProfile "${ManagedAccountDescription}"|
|Verify_Contain_OR|$res;;@testRes                                                                                                                   |
|Set description  |@acc           |        |${ManagedAccountDescription}                                                                            |
