!note We select "User Administrator" user type by GUI. It corresponds to "User Admin" for a .Net API answer.  
!define usrType {User Administrator}
!define returnedUsrType {User Admin}

!include -c <AutomatedTesting.PowerShellNetApiScenarios.ScenarioLibrary
!include -c <PropagateOptionsFromTemplate.ScenarioLibrary

!4 Create make API user template and create a new user from template
!|script                                                                                                    |
|Create Non Web User Template|${TemplateName}|interface    |API|type|${usrType}|restricted hosts|10.30.22.22|
|Create User                 |${newUserName} |from template|${TemplateName}                                 |

!4 Check new user properties
!|script                                                                                                                  |
|List properties|userName,userInterface,userType|for user|${newUserName}|contains|${newUserName}\s+api.*${returnedUsrType}|

!*> Fake step to a normal work of the TearDown.
!|script                                                   |
|Add User|${TestUserName}|with options|-MobileAllowedFlag Y|
*!