!********> Test Description
This test checks that Current Status button is working
**************!
!define checkingString {Password Check Results over past 7 days}
!define checkingString2 {Success.*Change Reason.*Mismatch}

!note Managed System settings
!include -c <AutomatedTesting.PlatformsTesting.MacOsxSix

!include -c <AutomatedTesting.ScenarioLibrary
!include -c <AutomatedTesting.CliScenarios.ScenarioLibrary

!|script                                                                                                         |
|Create Account on System                                                                                                                |
|Add system                                                                                                                              |
|Add account          |${ManagedAccount}                                           |with password|${ManagedAccountPwdNew} ||successfully |
|Check Password       |${ManagedAccount}                                           |             |${CheckPasswordNotMatch}               |
|pause                |${RestoreFunctAcctPasswordTimeout}                                                                                |
|Open                 |${TPAMURL}                                                   ||${TPAMAdmin}||${DefaultPwd}|
|Choose Account       |${ManagedAccount}                                                                         |
|click                |id=StatusButton                                                                           |
|waitForElementPresent|//.[@id='testTable']                                                                      |
|verifyText           |//.[@id='testTable']/tbody/tr[7] ||${checkingString}          |
|verifyText           |//.[@id='testTable']/tbody/tr[10]||${checkingString2}         |
|Remove account          |${ManagedAccount}                                                                 |
|Remove system           |${SystemName}                                                                     |
|Delete Account on System|${ManagedAccount}                                                                 |
