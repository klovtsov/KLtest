!*> Test description
Generated password hasn't to contain a consecutive repeated alphanumeric (a-zA-Z0-9) symbols.
Non alphanumeric symbol should be permitted.
Passwords for managed accounts and synchronized passwords are checked.
Not matched password can't be set to sync password.
If password matches the rule it will be set successfully. 
*!
!define InvalidCharList {i0oOIlJ1L}
!define checkRegexp {[${InvalidCharList}]}

!include -c <AutoTestsWebDrv.ScenarioLibrary
!include -c <AutoTestsWebDrv.CliScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.SynchronizedPasswords.ScenarioLibrary
!include -c ScenarioLibrary

!3 Set the password rule settings.

!|script                                                                  |
|Login       |${TPAMAdminURL}        |        |${TPAMMaster}||${MasterPwd}|
|Let Off                                                                  |
|Set         |MaxChars               |equal to|15                         |
|Set         |MinChars               |equal to|7                          |
|Select value|Require at least 1     |for     |ReqUpper                   |
|Select value|Require at least 1     |for     |ReqLower                   |
|Select value|Require at least 1     |for     |ReqNum                     |
|Select value|Any Character Permitted|for     |ReqFirst                   |
|Select value|Any Character Permitted|for     |ReqLast                    |
|type;       |id=DisallowedCharacters|${InvalidCharList}                  |
|click       |id=SubmitChangesButton                                      |

!3 Test the Rule
!|script                                                                                                                               |
|Test password generator                    |${checkRegexp}     |should present    |N                                                  |
|Generated account password does not contain|${checkRegexp}                                                                            |
|Check that Synchronized Password           |${SyncPasswordName}|with Password Rule|${PasswdRuleName}||does not contain||${checkRegexp}|
