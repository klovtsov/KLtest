!|scenario                         |New Account Action                                         |
|Remove account                    |${AutoDiscoveryAccount1}                                   |
|Set AccDiscovery profile to System|${ProfileName}|               |${SystemName}               |
|Run AccDiscovery                                                                              |
|$res=                             |getText       |xpath=//table[@id='DiscoveryStagingListing']|
|Verify_Contain_OR                 |$res;;${AutoDiscoveryAccount1}                             |
|$res=                             |getText       |xpath=//table[@id='DiscoveryStagingListing']|
|Verify_Contain_OR                 |$res;;${AutoDiscoveryAccount2}                             |
|click                             |id=btnClearAllRows                                         |
|getConfirmation                                                                               |
|waitForTextPresent                |2 staged Account Discovery rows removed.                   |
|$res=                             |getText       |xpath=//table[@id='DiscoveryStagingListing']|
|Verify_Contain_NOT                |$res;;${AutoDiscoveryAccount1}                             |
|$res=                             |getText       |xpath=//table[@id='DiscoveryStagingListing']|
|Verify_Contain_NOT                |$res;;${AutoDiscoveryAccount2}                             |

!|scenario               |Create Environment|
|Create Account on System|${ManagedAccount1}|
|Create Template                            |
|Create Account Discovery Profile           |

!|scenario                         |Delete Environment                                  |
|Set AccDiscovery profile to System|No Account Discovery Profile selected||${SystemName}|
|Remove system                     |${SystemName}                                       |
|Delete Account Discovery Profile  |${ProfileName}                                      |
|Remove system                     |${TemplateName}                                     |
|Delete Account on System          |${ManagedAccount1}                                  |
                                                      
!|scenario|Add Detail                  |Index||NewAccountAction||TemplateAccount||EmailAddresses||UID||SID||Name||Group||Role||Task||Service|
|click    |id=btnAddRow                                                                                                                     |
|select;  |className=autoNewAction     |label=@NewAccountAction                                                                             |
|select;  |className=autoAcctTemplate  |label=@TemplateAccount                                                                              |
|type;    |className=autoEmailAddresses|@EmailAddresses                                                                                     |
|type;    |className=autoSIDFilter     |@SID                                                                                                |
|type;    |className=autoNameFilter    |@Name                                                                                               |
|type;    |className=autoGroupFilter   |@Group                                                                                              |
