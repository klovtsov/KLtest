!*> Test comment
 This test checks that if we choose such settings TPAM will able to generate passwords.
TPAM have to generate password with length less then 8 and it should contain at least 5 non-alphanum symbols 
*!

!define checkRegexp {!-.*[a-zA-Z0-9]$-!}

!include -c <AutoTestsWebDrv.ScenarioLibrary
!include -c <AutoTestsWebDrv.CliScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.SynchronizedPasswords.ScenarioLibrary
!include -c ScenarioLibrary

!3 Set the password rule settings.
!|script                                                                 |
|Login       |${TPAMAdminURL}       |        |${TPAMMaster}||${MasterPwd}|
|Let Off                                                                 |
|Set         |MaxChars              |equal to|9                          |
|Set         |MinChars              |equal to|6                          |
|Select value|Permitted             |for     |ReqUpper                   |
|Select value|Permitted             |for     |ReqLower                   |
|Select value|Permitted             |for     |ReqNum                     |
|Select value|Require at least 3    |for     |ReqNonAN                   |
|Select value|AlphaNumeric Permitted|for     |ReqLast                    |
|click       |id=SubmitChangesButton                                     |

!3 Test the Rule
!|script                                                                                                               |
|Test password generator            |${checkRegexp}     |should present    |Y                                          |
|Generated account password contains|${checkRegexp}                                                                    |
|Check that Synchronized Password   |${SyncPasswordName}|with Password Rule|${PasswdRuleName}||contains||${checkRegexp}|
