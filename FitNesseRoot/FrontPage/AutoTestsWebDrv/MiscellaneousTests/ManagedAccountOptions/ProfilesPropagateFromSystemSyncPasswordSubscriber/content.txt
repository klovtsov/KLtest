!*> Some notes
Profile and Auto changes do *not* get pushed to sync password subscribers.
*!
!define SyncPasswordName {${prefix}Secret}
!define pwdChangeProfile {First of Month}
!define pwdCheckProfile {Check and Reset}
!define accountChangeProfile {Daily}
!define accountCheckProfile {PersPassCheckProfile_1}
!define newReleaseDuration {30}
!define allowIsaFlagValue {Y}

!*> Including section
!include -c <AutoTestsWebDrv.ScenarioLibrary
!include -c <AutoTestsWebDrv.PowerShellNetApiScenarios.ScenarioLibrary
!include -c ScenarioLibrary
*!

!4 Create a sync password and add a managed account as subscriber
!|script                                                                                                                                                                      |
|Add account      |${ManagedAccount}2 |on system |${SystemName}|with options |-passwordChangeProfile "${accountChangeProfile}"  -passwordCheckProfile "${accountCheckProfile}"|
|Add Sync Password|${SyncPasswordName}|with value|T0PsecReT    |check profile|${PpmCheckProfile}               |change profile              |${PpmChangeProfile}              |
|Add Subscriber   |${ManagedAccount}2 |from      |${SystemName}                                                                                                               |

!|script                                                                                                                                                                                                                                                                                                                                                         |
|Update System          |${SystemName}                                                                                                                                        |        |-passwordChangeProfile "${pwdChangeProfile}" -passwordCheckProfile "${pwdCheckProfile}" -releaseDuration ${newReleaseDuration} -AllowISADurationFlag ${allowIsaFlagValue}|
|Push defaults out to all accounts                                                                                                                                                                                                                                                                                                                               |
|List Accounts by filter|-systemName ${SystemName} -accountName ${ManagedAccount} -propsToList passwordCheckProfile,passwordChangeProfile,releaseDuration,allowISADurationFlag|contains|${pwdCheckProfile}\s+${pwdChangeProfile}\s+${newReleaseDuration}\s+${allowIsaFlagValue}                                                                                  |
|List Accounts by filter|-systemName ${SystemName} -accountName ${ManagedAccount}2 -propsToList passwordCheckProfile,passwordChangeProfile                                    |contains|${PpmCheckProfile}\s+${PpmChangeProfile}                                                                                                                              |



!*> Return default values
!|script                                                                                                                     |
|Update Account      |${ManagedAccount}||-passwordChangeProfile ${PpmChangeProfile}  -passwordCheckProfile ${PpmCheckProfile}|
|Delete Account      |${ManagedAccount}2                                                                                     |
|Delete Sync Password|${SyncPasswordName}                                                                                    |
*!
