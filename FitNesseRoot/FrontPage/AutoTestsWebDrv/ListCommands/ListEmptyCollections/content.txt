!define emptyCollection {${prefix}Collctn1}
!define colltnWithSystem {${prefix}SysColltn}
!define colltnWithAccount {${prefix}AccntColltn}
!define colltnWithFile {${prefix}FileColltn}

!include -c <AutoTestsWebDrv.EmailScenarios.FilesNotifications.ScenarioLibrary
!include -c <AutoTestsWebDrv.EmailScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.CliScenarios.ScenarioLibrary

!4 Create Environment
!|script                                                                                             |
|Open                     |${TPAMURL}       |             |${TPAMAdmin}        ||${DefaultPwd}       |
|Add System                                                                                          |
|Add account              |${ManagedAccount}|with password|${ManagedAccountPwd}||successfully        |
|Create File              |${FilePath}      |             |${FileName}                               |
|Add File                                                                                            |
|Add Collection           |${emptyCollection}                                                        |
|Add Collection           |${colltnWithSystem}                                                       |
|Add Collection           |${colltnWithAccount}                                                      |
|Add Collection           |${colltnWithFile}                                                         |
|Add System To Collection |${SystemName}    |             |${colltnWithSystem}                       |
|Add Account To Collection|${SystemName}    |             |${ManagedAccount}   ||${colltnWithAccount}|
|Add File To Collection   |${SystemName}    |             |${FileName}         ||${colltnWithFile}   |
|Logout                                                                                              |

!4 List collections by CLI
!|script                                                                                                                                                                             |
|List Collections by name|${prefix}*|and additional filter|--SystemName ! --AccountName ! --FileName !|contains        |${emptyCollection}                                           |
|List Collections by name|${prefix}*|and additional filter|--SystemName ! --AccountName ! --FileName !|does not contain|${colltnWithSystem};;${colltnWithAccount};;${colltnWithFile} |
|List Collections by name|${prefix}*|and additional filter|--SystemName !                             |contains        |${colltnWithAccount}.*${emptyCollection}.*${colltnWithFile}  |
|List Collections by name|${prefix}*|and additional filter|--SystemName !                             |does not contain|${colltnWithSystem}                                          |
|List Collections by name|${prefix}*|and additional filter|--FileName !                               |contains        |${colltnWithAccount}.*${emptyCollection}.*${colltnWithSystem}|
|List Collections by name|${prefix}*|and additional filter|--FileName !                               |does not contain|${colltnWithFile}                                            |
|List Collections by name|${prefix}*|and additional filter|--AccountName !                            |contains        |${emptyCollection}.*${colltnWithFile}.*${colltnWithSystem}   |
|List Collections by name|${prefix}*|and additional filter|--AccountName !                            |does not contain|${colltnWithAccount}                                         |

!4 List collections by UI
!|script                                                                                                                                                                                                                             |
|List Collections with name|${prefix}*|system membership|!|account membership|!|file membership|!|contains|${emptyCollection}                      |and does not contain|${colltnWithAccount};;${colltnWithSystem};;${colltnWithFile}|
|List Collections with name|${prefix}*|system membership| |account membership|!|file membership|!|contains|${emptyCollection}.*${colltnWithSystem} |and does not contain|${colltnWithAccount};;${colltnWithFile}                     |
|List Collections with name|${prefix}*|system membership|!|account membership| |file membership|!|contains|${colltnWithAccount}.*${emptyCollection}|and does not contain|.*${colltnWithSystem};;${colltnWithFile}                    |
|List Collections with name|${prefix}*|system membership|!|account membership|!|file membership| |contains|${emptyCollection}.*${colltnWithFile}   |and does not contain|${colltnWithAccount};;${colltnWithSystem}                   |

!4 Remove All
!|script                               |
|Remove System    |${SystemName}       |
|Delete Collection|${emptyCollection}  |
|Delete Collection|${colltnWithSystem} |
|Delete Collection|${colltnWithAccount}|
|Delete Collection|${colltnWithFile}   |
