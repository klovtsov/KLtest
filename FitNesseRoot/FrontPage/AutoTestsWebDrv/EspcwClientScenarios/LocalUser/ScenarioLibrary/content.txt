!|scenario|Uncheck Checkbox                  |checkboxname                  |for user                 |user                 |
|runBatch |ChangeSPCWSetting.bat;${FunctAcct};"${FunctAcctPwd}";${SystemAddress};@checkboxname;N;${ClientSettingsPath};@user|

!|scenario|Check Checkbox                  |checkboxname                  |for user                  |user                  |
|runBatch |ChangeSPCWSetting.bat;${FunctAcct};"${FunctAcctPwd}";${SystemAddress};@checkboxname;Y;${ClientSettingsPath};@user|

!|scenario                        |Attempt to change password                         |
|Change Account Password on System|${ManagedAccountPwdNew}                            |
|Check Checkbox                   |useoldpass       |for user|DEFAULT                 |
|Check Password                   |${ManagedAccount}|        |${CheckPasswordNotMatch}|
|pause                            |20000                                              |
|Uncheck Checkbox                 |useoldpass       |for user|DEFAULT                 |

!|scenario        |ClearClientLogFile on                                          |System                                          |
|RunBatchGetOutput|eSPCWtestexes\DeleteLogFile.bat;@System;${ClientInstallationDrive};${FunctAcct};${FunctAcctPwd};${ClientLogPath}|

!|scenario        |ClientLogFileContains|Message                                   |on                                  |System                                  |
|$res=            |RunBatchGetOutput    |eSPCWtestexes\CheckLogFile.bat;@System;${ClientInstallationDrive};${FunctAcct};${FunctAcctPwd};${ClientLogPath};@Message|
|Verify_Contain_OR|$res;;ExitCode 0                                                                                                                              |

!|scenario        |ClientLogFileDoesnotContains|Message                          |on                          |System                         |                         |
|$res=            |RunBatchGetOutput           |eSPCWtestexes\CheckLogFile.bat;@System;${ClientInstallationDrive};${FunctAcct};${FunctAcctPwd};${ClientLogPath};@Message|
|Verify_Contain_OR|$res;;ExitCode 1                                                                                                                                     |

!|scenario|Create SPCW configuration for                           |@User                          |
|runBatch |CreateSPCWuser;${FunctAcct};${FunctAcctPwd};${SystemAddress};${ClientSettingsPath};@User|

!|scenario|Remove SPCW configuration for                           |@User                          |
|runBatch |RemoveSPCWuser;${FunctAcct};${FunctAcctPwd};${SystemAddress};${ClientSettingsPath};@User|

!| scenario       |Add account|acc                     |with password                    |pwd                    |                    |testRes                    |
|$res=            |CLI        |${CLIBatch} AddAccount --System ${SystemName} --AccountName @acc --Password \"@pwd\" --Description \"${ManagedAccountDescription}\"|
|Verify_Contain_OR|$res;;@testRes                                                                                                                                 |
