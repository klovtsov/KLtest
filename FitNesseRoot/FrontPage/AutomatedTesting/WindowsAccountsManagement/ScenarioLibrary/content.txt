!| scenario       |Add account|acc                                 |with password                                 |pwd                                 |                                 |testRes                                 |
|$res=            |CLI        |${CLIBatch} AddAccount --System ${SystemName} --AccountName @acc --Password \"@pwd\" --Description \"${ManagedAccountDescription}\" --ChangeServiceFlag Y --ChangeTaskFlag Y --RestartServiceFlag Y|
|Verify_Contain_OR|$res;;@testRes                                                                                                                                                                                                 |

!|scenario|Delete Service on                          |System                          |
|runBatch |manageServices;delete;@System;${FunctAcct};${FunctAcctPwd};${ManagedAccount}|

!| scenario|events |user | |passwd||host||action|
|runBatch  |events;@user;"@passwd";@host;@action|

!| scenario                    |Main Scenario                                                                                                                                          |
|Add system                                                                                                                                                                            |
|Add account                   |${ManagedAccount}           |with password            |${ManagedAccountPwd}         |                         |${NotFailed}                            |
|Create Account on System                                                                                                                                                              |
|Create Service which is run by|${ServiceAccount}           |and run under password is|${ManagedAccountPwd}         |on                       |${SystemAddress}                        |
|Create Scheduled Task         |${TaskName}                 |which is run under       |${HostName}\${ManagedAccount}|and run under password is|${ManagedAccountPwd}|on|${SystemAddress}|
|Start Service                 |${SuccessServiceStartResult}|on                       |${SystemAddress}                                                                                |
|pause                         |30000                                                                                                                                                  |
|events                        |${FunctAcct}                |                         |${FunctAcctPwd}              |                         |${SystemAddress}    |  |clear           |
|Reset Password                |${ManagedAccount}           |                         |${ResetPasswordSuccessful}                                                                      |
|pause                         |30000                                                                                                                                                  |
|events                        |${FunctAcct}                |                         |${FunctAcctPwd}              |                         |${SystemAddress}    |  |check           |
|Run Scheduled Task            |${TaskName}                 |on                       |${SystemAddress}                                                                                |
|Check Scheduled Task Status   |Running                     |on                       |${SystemAddress}                                                                                |
|Stop Scheduled Task           |${TaskName}                 |on                       |${SystemAddress}                                                                                |
|Stop Service on               |${SystemAddress}                                                                                                                                       |
|Restore environment on        |${SystemAddress}                                                                                                                                       |
|Delete Service on             |${SystemAddress}                                                                                                                                       |
|Remove system                 |${SystemName}                                                                                                                                          |
|pause                         |300000                                                                                                                                                 |
|Delete Account on System                                                                                                                                                              |
|RunBatchGetOutput             |CleanupSession;${SystemAddress};${FunctAcct};${FunctAcctPwd};${ManagedAccount}                                                                         |



