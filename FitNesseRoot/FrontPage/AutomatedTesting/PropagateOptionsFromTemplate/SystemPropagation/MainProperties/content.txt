!*> Short description
Network Address should be specified. It default value is defined in ps script.
Timeout, platform, contact e-mail, description, functional account, maximum duration.
*!

!define newSystemAddress {10.30.45.65}
!define primEmail {superMaster@lalala.com}

!include -c <AutomatedTesting.AccountDiscovery.ScenarioLibrary
!include -c <AutomatedTesting.PowerShellNetApiScenarios.ScenarioLibrary
!include -c <PropagateOptionsFromTemplate.ScenarioLibrary

!4 Create system, make template from system and create system from template
!|script                                                                                                                                                                                                                                                                                                        |
|Add system          |${SystemName}   |with address   |${SystemAddress}                                                      |platform    |${SystemPlatform}|managed by|${FunctAcct}|additional parameters|-description "${sysDescription}" -MaxReleaseDuration 45 -PrimaryEmail ${primEmail} -ChangeFrequency 0|
|Make System Template|${TemplateName} |from           |${SystemName}                                                         |with account|${FunctAcct}                                                                                                                                                         |
|Try to Add system   |${newSystemName}|with parameters|-systemAddress ${newSystemAddress} -templateSystemName ${TemplateName}|with result |System changes for ${newSystemName} saved successfully                                                                                                               |

!4 Check new system properties
!|script                                                                                                                                                                |
|List Systems by|-systemName ${newSystemName}|output params|SystemName,platformName,networkAddress   |contain|${newSystemName}\s+${SystemPlatform}\s+${newSystemAddress}|
|List Systems by|-systemName ${newSystemName}|output params|description,timeout,MaxReleaseDuration   |contain|${sysDescription}\s+${SystemTimeout}\s+45                 |
|List Systems by|-systemName ${newSystemName}|output params|primaryEmail,functionalAccount,changefreq|contain|${primEmail}\s+${FunctAcct}\s+0                           |
