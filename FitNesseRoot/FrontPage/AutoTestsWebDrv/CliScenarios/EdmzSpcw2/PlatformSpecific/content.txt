!| scenario       |Add system                                                                                                                                                                                |
|$res=            |CLI|${CLIBatch} AddSystem --SystemName ${SystemName} --NetworkAddress ${SystemAddress} --PlatformName \"${SystemPlatform}\" --FunctionalAccount ${ParFunctAcct} --Timeout ${SystemTimeout}|
|Verify_Contain_OR|$res;;successful                                                                                                                                                                          |

!|scenario    |Set password                   |one                   |                  |switch                  |
|accountAction|${SystemPlatform};;corrupt;;${SystemAddress};;${FunctAcct};;${FunctAcctPwd};;${PathtoKey};;@switch|

!| scenario     |Managed System                                             |
|Create Account on System                                                   |
|Open           |${TPAMURL}                 |   |${TPAMAdmin}||${DefaultPwd}|
|Add system                                                                 |
|Set description|\"${FunctAcctDescription}\"|for|${FunctAcct}               |
|Test System    |${TestSystemSuccessful}                                    |
|Set password   |${FunctAcct}               |   |${FunctAcctWrongPwd}       |
|Test System    |${TestSystemFailed}                                        |
|Check Password |${ParFunctAcct}            |   |${CheckPasswordFailed}     |

!| scenario                       |Managed Account                                                                                                                                           |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwd}   |and profiles|${PpmCheckProfile}                ||${PpmChangeProfile}                ||${NotFailed}|
|Reset Password                   |${ManagedAccount}|             |${ResetPasswordFailed}                                                                                                    |
|Check Password                   |${ManagedAccount}|             |${CheckPasswordFailed}                                                                                                    |
|Remove account                   |${ManagedAccount}                                                                                                                                         |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwd}   |and profiles|${PersistentPasswordCheckProfile1}||${PpmChangeProfile}                ||${NotFailed}|
|Forced Reset                     |Failed                                                                                                                                                    |
|Remove account                   |${ManagedAccount}                                                                                                                                         |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwd}   |and profiles|${PpmCheckProfile}                ||${PersistentPasswordChangeProfile1}||${NotFailed}|
|Schedule Check Password          |Failed                                                                                                                                                    |
|Remove account                   |${ManagedAccount}                                                                                                                                         |
|Change Account Password on System|${ManagedAccountPwdNew}                                                                                                                                   |
|pause                            |30000                                                                                                                                                     |
|Set password                     |${FunctAcct}     |             |${FunctAcctPwd}                                                                                                           |
|pause                            |${RestoreFunctAcctPasswordTimeout}                                                                                                                        |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwd}   |and profiles|${PpmCheckProfile}                ||${PersistentPasswordChangeProfile1}||${NotFailed}|
|Schedule Check Password          |Failed                                                                                                                                                    |
|pause                            |${PpmScheduleTimeWindow}                                                                                                                                  |
|Check Status                     |Success          |for reason   |Mismatch                                                                                                                  |
|Remove account                   |${ManagedAccount}                                                                                                                                         |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwd}   |and profiles|${PersistentPasswordCheckProfile1}||${PpmChangeProfile}                ||${NotFailed}|
|Reset Password                   |${ManagedAccount}|             |${ResetPasswordSuccessful}                                                                                                |
|Check Password                   |${ManagedAccount}|             |${CheckPasswordSuccessful}                                                                                                |
|Remove account                   |${ManagedAccount}                                                                                                                                         |
|Change Account Password on System|${ManagedAccountPwdNew}                                                                                                                                   |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwdNew}|and profiles|${PpmCheckProfile}                ||${PersistentPasswordChangeProfile1}||${NotFailed}|
|Schedule Check Password          |Success                                                                                                                                                   |
|Remove account                   |${ManagedAccount}                                                                                                                                         |
|Add PPM account                  |${ManagedAccount}|with password|${ManagedAccountPwd}   |and profiles|${PersistentPasswordCheckProfile1}||${PpmChangeProfile}                ||${NotFailed}|
|Forced Reset                     |Success                                                                                                                                                   |
