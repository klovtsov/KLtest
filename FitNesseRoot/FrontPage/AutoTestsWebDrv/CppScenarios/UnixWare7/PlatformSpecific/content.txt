!| scenario    |Managed System                           |
|Create Account on System                                |
|Create Password Rule For UnixWare|${UnixWareRuleName}                                                                                                                                                                 |
|Login                            |${TPAMURL}                              |                            |${TPAMAdmin}                            |                            |${DefaultPwd}                           |
|Add system                                              |
|Test System   |${TestSystemSuccessful}                  |
|Set password  |${FunctAcct}||${FunctAcctWrongPwd}       |
|Test System   |${TestSystemFailed}                      |
|Check Password|${FunctAcct}||${CheckPasswordFailed}     |



# Add system is implemented via CLI to avoid changing C++ project to handle password rule or PowerShell addsystem.ps1 to handle special chars in password.

!| scenario       |Add system                                                                                                                                                                                                                                                   |
|$res=            |CLI|${CLIBatch} AddSystem --SystemName ${SystemName} --NetworkAddress ${SystemAddress} --PlatformName \"${SystemPlatform}\" --FunctionalAccount ${FunctAcct} --FuncAcctCred \"${FunctAcctPwd}\" --Timeout ${SystemTimeout} --PasswordRule ${UnixWareRuleName}|
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                             |


!| scenario              |Delete All         |
|Remove account          |${ManagedAccount}  |
|Remove system           |${SystemName}      |
|Hard-Delete System      |${SystemName}      |
|Delete Account on System|${ManagedAccount}  |
|Delete Password Rule    |${UnixWareRuleName}|
