!define UserName {${prefix}usrTolist}
!define UserName2 {${prefix}lstUser}


!include -c <AutoTestsWebDrv.EmailScenarios.ScenarioLibrary
!include -c <AutoTestsWebDrv.CliScenarios.ScenarioLibrary
!include -c ScenarioLibrary

!4 Create users and groups
!|script                                                              |
|Add Group        |${GroupName}                                       |
|Add User         |${UserName} ||${DefaultPwd}||${emailaddress}||Basic|
|Add User         |${UserName2}||${DefaultPwd}||${emailaddress}||Basic|
|Add User To Group|${UserName} ||${GroupName}                         |

!4 List users by CLI
!|script                                                                               |
|List Users by filter|--UserName ${prefix}* --GroupName !|contains        |${UserName2}|
|List Users by filter|--UserName ${prefix}* --GroupName !|does not contain|${UserName} |

!4 List users by UI
!|script                                                                                             |
|List users without groupmembership|${prefix}*|contains|${UserName2}|and does not contain|${UserName}|

!4 Password release activity
!|script                                                                                                            |
|Add System                                                                                                         |
|Prepare account                    |${ManagedAccount} |with requestor|${UserName}                                  |
|Prepare account                    |${ManagedAccount}2|with requestor|${UserName2}                                 |
|Release password                   |${ManagedAccount} |by            |${UserName}                                  |
|Release password                   |${ManagedAccount}2|by            |${UserName2}                                 |
|Password Rlease activity report for|${prefix}*        |contains      |${UserName2}|and does not contain|${UserName}|


!4 Remove All
!|script                    |
|Remove System|${SystemName}|
|Delete Group |${GroupName} |
|Remove User  |${UserName}  |
|Remove User  |${UserName2} |
