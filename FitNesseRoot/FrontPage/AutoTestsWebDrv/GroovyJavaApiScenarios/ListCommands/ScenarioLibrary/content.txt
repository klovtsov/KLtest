!|scenario        |Get Request      |RequestId                                                                                                                      |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;getRequest.groovy;RequestID=@RequestId;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;$RequestIDp.*${SystemName}.*${ManagedAccount}.*${apiUser}.*Gardner1.*Shlomo1.*${apiUser}                                                   |

!|scenario        |Get Session Request|SessionRequestId                                                                                                                             |
|$res=            |RunBatchGetOutput  |GroovyJavaAPI\groovy_runner.bat;getSessionRequest.groovy;RequestID=@SessionRequestId;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;$RequestIDs.*${SystemName}.*${ManagedAccount}.*Approval.*${apiUser}.*Gardner1.*Shlomo1.*${apiUser}                                                         |

!|scenario        |Add System       |options                                                                                                           |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addSystem.groovy;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                  |

!|scenario        |Update System    |SystemName                              |                              |options                              |                              |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;UpdateSystem.groovy;SystemName=@SystemName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                            |

!|scenario|List Systems by  |options                                                                                                             |
|$res=    |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listSystems.groovy;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|

!|scenario        |Add Group        |GroupName                                                                                                                    |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addGroup.groovy;GroupName=@GroupName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                             |

!|scenario        |Add User         |UserName                                                         |                                                         |DisableFl                                                        |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addUser.groovy;UserName=@UserName;LastName=lname;FirstName=fname;UserType=Basic;DisableFl=@DisableFl;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                             |

!|scenario        |Update User      |UserName                                       |                                       |options                                       |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;updateUser.groovy;UserName=@UserName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                      |

!|scenario        |List User by     |UserName                                       |                                       |options                                      |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listUsers.groovy;UserName=@UserName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                     |

!|scenario        |Add Group Member |GroupMember                                             |                                             |GroupName                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addGroupMember.groovy;GroupName=@GroupName;GroupMember=@GroupMember;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                            |

!|scenario        |Add Account      |AccountName                                            |                                            |SystemName                                           |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addAccount.groovy;AccountName=@AccountName;SystemName=@SystemName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                          |

!|scenario        |Add Collection   |CollectionName                                                                                                                              |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addCollection.groovy;CollectionName=@CollectionName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                            |

!|scenario        |Add Collection with options|CollectionName                                          |                                          |options                                          |
|$res=            |RunBatchGetOutput          |GroovyJavaAPI\groovy_runner.bat;addCollection.groovy;CollectionName=@CollectionName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};@options|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                               |

!|scenario        |Update Collection|CollectionName                                           |                                           |options                                           |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;updateCollection.groovy;CollectionName=@CollectionName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};@options|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                        |

!|scenario        |Add System To Collection|SystemName                                                |                                                |CollectionName                                               |
|$res=            |RunBatchGetOutput       |GroovyJavaAPI\groovy_runner.bat;addCollectionMember.groovy;CollectionName=@CollectionName;SystemName=@SystemName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                |

!|scenario        |Add Account To Collection|SystemName                               |                               |AccountName                               |                               |CollectionName                               |
|$res=            |RunBatchGetOutput        |GroovyJavaAPI\groovy_runner.bat;addCollectionMember.groovy;CollectionName=@CollectionName;SystemName=@SystemName;AccountName=@AccountName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                                          |

!|scenario        |Add File To Collection|SystemName                               |                               |FileName                              |                              |CollectionName                              |
|$res=            |RunBatchGetOutput     |GroovyJavaAPI\groovy_runner.bat;addCollectionMember.groovy;CollectionName=@CollectionName;SystemName=@SystemName;FileName=@FileName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                                 |

!|scenario        |Add AD system                                                                                                                                                                                                                                                                                                                                                   |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;addSystem.groovy;SystemName=${AdSystemName};NetworkAddress=${AdSystemAddress};FunctionalAccount=${AdFunctAcct};FunctionalAcctCredentials=${AdFunctAcctPwd};PlatformName=${AdSystemPlatform};NetBiosName=${NETBIOSDomainName};DomainName=${DomainName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                                                                                                                                                                              |

!| scenario       |Update Dependent Systems                                                                                                                                                                                                        |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;updateDependentSystems.groovy;SystemName=${SystemName};ADSystemName=${AdSystemName};ADAccountName=${AdManagedAccount};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                                              |

!|scenario  |Dependent Systems prepare           |
|Add AD system                                   |
|Add account|${AdManagedAccount}||${AdSystemName}|
|Update Dependent Systems                        |

!|scenario        |Set Policy       |SystemName                   |                   |AccountName                   |                   |AccessPolicyName                   |                   |Action                   |                  |UserName                  |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=@AccessPolicyName;SystemName=@SystemName;Action=@Action;AccountName=@AccountName;UserName=@UserName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                                                                    |

!|scenario        |Set Policy on object|Object                     |                     |AccessPolicyName                     |                     |Action                     |                     |UserName                    |
|$res=            |RunBatchGetOutput   |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;@Object;AccessPolicyName=@AccessPolicyName;Action=@Action;UserName=@UserName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                                               |


!|scenario        |Add Pwd Request  |SystemName                             |                             |AccountName                             |                            |UserName                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;AddPwdRequest.groovy;SystemName=@SystemName;AccountName=@AccountName;UserName=@UserName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;submitted                                                                                                                                                                                   |
|$RequestIDp=     |get_RequestID    |$res                                                                                                                                                                            |

!|scenario      |List Request prepare                                                  |
|$Months=       |getEval      |var d = new Date();t = d.getUTCMonth()+1;return t;      |
|$Days=         |getEval      |var d = new Date();t = d.getUTCDate();return t;         |
|$Years=        |getEval      |var d = new Date();t = d.getUTCFullYear();return t;     |
|Set Policy     |${SystemName}||${ManagedAccount}||Approver-Requestor||ADD||${apiUser} |
|Set Policy     |${SystemName}||${ManagedAccount}||Approver-Requestor||ADD||${apiUser2}|
|pause          |65000                                                                 |
|Add Pwd Request|${SystemName}||${ManagedAccount}||${apiUser}                          |

!|scenario        |Update PSM Details|SystemName                            |                            |AccountName                           |                           |options                           |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;updatePSMAccount.groovy;SystemName=@SystemName;AccountName=@AccountName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};@options|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                          |

!|scenario        |Add Session Request|SystemName                              |                              |AccountName                             |                             |UserName                             |
|$res=            |RunBatchGetOutput  |GroovyJavaAPI\groovy_runner.bat;addSessionRequest.groovy;SystemName=@SystemName;AccountName=@AccountName;UserName=@UserName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;submitted                                                                                                                                                                                         |
|$RequestIDs=     |get_RequestID      |$res                                                                                                                                                                                |

!|scenario          |List Session Request prepare                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|Set Policy         |${SystemName}||${ManagedAccount}||"PSM Approver-Requestor"                                                                                              |                                                                                              |ADD                                                                                              |                                                                                             |${apiUser}                                                                                              |
|Set Policy         |${SystemName}||${ManagedAccount}||"PSM Approver-Requestor"                                                                                              |                                                                                              |ADD                                                                                              |                                                                                             |${apiUser2}                                                                                             |
|Set Policy         |${SystemName}||${ManagedAccount}||"PSM Approver-Requestor"                                                                                              |                                                                                              |ADD                                                                                              |                                                                                             |parAdmin                                                                                                |
|pause              |65000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|Update PSM Details |${SystemName}||${ManagedAccount ||ColorDepth=16;ConsoleFlag=Y;DefaultSessionDuration=30;EnableFlag=Y;EscalationEmail=mail@mail.mail;EscalationtTime=1;FileTransAuthMethod=Prompt;FileTransDownFlag=Y;FileTransPath=shara;FileTransType=WFC;FileTransUpFlag=Y;MaxSessionCount=2;MinApprovers=3;NotifyFrequency=4;NotifyThreshold=5;PasswordMethod=Not Stored;PostSessionProfile=${PersistentPostSessionProfileName};ProxyType=RDP - Interactive Login;RecordingRequiredFlag=Y;ReviewCount=2;ReviewerType=Auditor;SessionStartNotifyEmail=SessionStartNotify@Email|
|Add Session Request|${SystemName}||${ManagedAccount}||parAdmin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

!|scenario        |List Assigned Policy prepare                                                                                                                                                                                                                                |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=Approver-Requestor;Action=ADD;AccountName=${ManagedAccount};SystemName=${SystemName};UserName=${apiUser};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=Approver-Requestor;Action=ADD;CollectionName=${CollectionName};UserName=parAdmin;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                        |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=ADD;SystemName=${SystemName};GroupName=${GroupName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                          |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=ADD;SystemName=${SystemName};UserName=${apiUser};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                             |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=ADD;CollectionName=${CollectionName};UserName=${apiUser};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                     |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=ADD;SystemName=${SystemName};FileName=${FileName};UserName=${apiUser};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                        |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|Add Account      |${ManagedAccount}7|                        |${SystemName}                                                                                                                                                                                                   |
|Add User         |${UserName}7      |                        |N                                                                                                                                                                                                               |
|Set Policy       |${SystemName}     |                        |${ManagedAccount}7                        |                        |ISA                        |                        |ADD                        |                       |${UserName}7                       |
|pause            |65000                                                                                                                                                                                                                                                       |
#|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=ADD;SystemName=${SystemName};FileName=${FileName};UserName=${apiUser};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                        |
#|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                           |
#|pause            |65000                                                                                                                                                                                                                                                      |

!| scenario       |Approve Pwd                                                                                                                                             |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;approveRequest.groovy;RequestID=$RequestIDp;authFile=${authFile2};apiUser=${apiUser2};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;submitted                                                                                                                                         |

!|scenario        |Delete Collection|CollectionName                                                                                                                               |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;dropCollection.groovy;CollectionName=@CollectionName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                             |

!|scenario        |Delete Group     |GroupName                                                                                                                     |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;dropGroup.groovy;GroupName=@GroupName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                              |

!|scenario        |Remove User      |UserName                                                                                                                     |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;deleteUser.groovy;UserName=@UserName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                             |

!|scenario        |Remove System    |SystemName                                                                                                                         |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;deleteSystem.groovy;SystemName=@SystemName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                   |

!|scenario    |Update WindowsAD System                                                                                                                                                                                 |
|Add System   |SystemName=${LPrefix}updwinadsys;NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FuncAcctCred=${FunctAcctPwd};PlatformName=Windows Active Dir;DomainName=javaapi.test;NetBiosName=javaapi|
|Update System|${LPrefix}updwinadsys                       |                       |NewSystemName=${LPrefix}NewADSystemName;DomainName=newjavaapi.test;NetBiosName=newjavaapi;AllowFuncReqFlag=Y                       |

!|scenario    |Update Windows System                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|Add System   |SystemName=${LPrefix}updwinsys;NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FuncAcctCred=${FunctAcctPwd};PlatformName=${SystemPlatform}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|Update System|${LPrefix}updwinsys    ||NewSystemName=${LPrefix}NewSystemName;AllowFuncReqFlag=Y;AllowISADurationFlag=Y;AutoDiscoveryProfile=${LPrefix}javaapi;AutoDiscoveryExcludeList=check;AutoDiscoveryTimeout=777;Description=dddd;EscalationEmail=mail@mail.com;EscalationTime=1;FunctionalAccount=newfunc;MaxReleaseDuration=15;NetworkAddress=7.7.7.7;PasswordRule=${PersistentPwdRuleName};PlatSpecificValue=PlatSpecificValue;PrimaryEmail=mail@mail.com;ReleaseDuration=15;RequireTicketForAPI=Y;RequireTicketForCLI=Y;RequireTicketForISA=Y;RequireTicketForRequest=Y;ResetFlag=N;TicketSystemName=${PersistentTicketSystemName};TicketEmailNotify=tmail@mail.com;Timeout=22;DomainFuncAccount=newjavaapi.test\${FunctAcct};ReleaseChangeFlag=N|
|Update System|${LPrefix}NewSystemName||PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

!|scenario    |Update Oracle System                                                                                                                                                                                                                                                                                           |
|Add System   |SystemName=${LPrefix}updorasys;NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FuncAcctCred=${FunctAcctPwd};PlatformName=Oracle;OracleType=SID;OracleSIDSN=test                                                                                                                                 |
|Update System|${LPrefix}updorasys||NewSystemName=${LPrefix}NewOracleName;OracleSIDSN=OraServiceName;OracleType=Service;PortNumber=66;UseSshFlag=Y;SSHAccount=sshacc;SSHPort=33;SSHKey=Specific;TicketSystemName=${PersistentTicketSystemName};TicketEmailNotify=Ticketmail@mail.com;Description=AAA;RequireTicketForRequest=Y|

!|scenario    |Update Cisco System                                                                                                                                       |
|Add System   |SystemName=${LPrefix}updcissys;NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FuncAcctCred=${FunctAcctPwd};PlatformName=Cisco Router (TEL)|
|Update System|${LPrefix}updcissys                                |                                |EnablePassword=123456;LineDef=LineDef                                |


!|scenario        |List Systems by options                                                                                                                                                                                                                                                |
|List Systems by  |SystemName=${LPrefix}NewSystemName                                                                                                                                                                                                                                     |
|Verify_Contain_OR|$res;;System Name: ${LPrefix}NewSystemName.*AllowFuncReqFl: N.*AllowISADurationFlag: Y.*AutoDiscoveryExcludeList: check.*AutoDiscoveryProfile: ${LPrefix}javaapi.*AutoDiscoveryTimeout: 777.*Description: dddd                                                         |
|Verify_Contain_OR|$res;;DomainFunctionalAccount: newjavaapi.test\\${FunctAcct}.*EscalationEmail: mail@mail.com.*EscalationTime: 1                                                                                                                                                        |
|Verify_Contain_OR|$res;;MaxReleaseDuration: 15.*NetworkAddress: 7.7.7.7.*PasswordRule: ${PersistentPwdRuleName}                                                                                                                                                                          |
|Verify_Contain_OR|$res;;PasswordCheckProfile: ${PersistentPasswordCheckProfile1}.*PasswordChangeProfile: ${PersistentPasswordChangeProfile1}                                                                                                                                             |
|Verify_Contain_OR|$res;;PlatSpecificValue: PlatSpecificValue.*PrimaryEmail: mail@mail.com.*ReleaseDuration: 15.*RequireTicketForAPI: Y.*RequireTicketForCLI: Y.*RequireTicketForISA: Y.*RequireTicketForRequest: Y                                                                       |
|Verify_Contain_OR|$res;;TicketSystemName: ${PersistentTicketSystemName}.*Timeout: 22                                                                                                                                                                                                     |
|List Systems by  |SystemName=${LPrefix}NewOracleName                                                                                                                                                                                                                                     |
|Verify_Contain_OR|$res;;System Name: ${LPrefix}NewOracleName.*OracleSIDSN: OraServiceName.*OracleType: Service.*PortNumber: 66.*SSHAccount: sshacc.*SSHKey: Specific.*SSHPort: 33.*TicketEmailNotify: Ticketmail@mail.com.*TicketSystemName: ${PersistentTicketSystemName}.*UseSSHflag: Y|
|List Systems by  |SystemName=${LPrefix}NewADSystemName                                                                                                                                                                                                                                   |
|Verify_Contain_OR|$res;;System Name: ${LPrefix}NewADSystemName.*AllowFuncReqFl: Y.*DomainName: newjavaapi.test.*NetBiosName: newjavaapi                                                                                                                                                  |
|List Systems by  |SystemName=${LPrefix}updcissys                                                                                                                                                                                                                                         |
|Verify_Contain_OR|$res;;System Name: ${LPrefix}updcissys.*LineDef: LineDef                                                                                                                                                                                                               |


!|scenario                |Prepare Environment                                                                                                                                             |
|Open                     |${TPAMURL}                            |                    |${TPAMAdmin}                         |                    |${DefaultPwd}                            |
|Create File              |${FilePath}                           |                    |${FileName}                                                                                         |
|Add System               |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=${SystemPlatform}|
|Add File                                                                                                                                                                                  |
|selectWindow             |Quest Software TPAM                                                                                                                                             |
|Update WindowsAD System                                                                                                                                                                   |
|Update Oracle System                                                                                                                                                                      |
|Update Cisco System                                                                                                                                                                       |
|Add Group                |${GroupName}                                                                                                                                                    |
|Add Group                |${GroupName2}                                                                                                                                                   |
|Add User                 |${UserName}                           |                    |N                                                                                                   |
|Add User                 |${UserName2}                          |                    |Y                                                                                                   |
|Add Group Member         |${UserName}                           |                    |${GroupName}                                                                                        |
|Add Group Member         |${UserName}                           |                    |${GroupName2}                                                                                       |
|Add Group Member         |${UserName2}                          |                    |${GroupName}                                                                                        |
|Add Account              |${ManagedAccount}                     |                    |${SystemName}                                                                                       |
|Add Collection           |${CollectionName}                                                                                                                                               |
|Add Collection           |${CollectionName2}                                                                                                                                              |
|Add Collection           |${FileCollectionName}                                                                                                                                           |
|Add System To Collection |${SystemName}                         |                    |${CollectionName}                                                                                   |
|Add Account To Collection|${SystemName}                         |                    |${ManagedAccount}                    |                    |${CollectionName2}                       |
|Add File To Collection   |${SystemName}                         |                    |${FileName}                          |                    |${FileCollectionName}                    |
|Dependent Systems prepare                                                                                                                                                                 |
|Create Template          |${SystemName}                                                                                                                                                   |
|Create Account Discovery Profile                                                                                                                                                          |
|List Request prepare                                                                                                                                                                      |
|List Session Request prepare                                                                                                                                                              |
|List Assigned Policy prepare                                                                                                                                                              |
|Update Windows System                                                                                                                                                                     |


#!|scenario        |Clear Environment                                                      |
#|Approve Pwd                                                                              |
#|Set Policy       |${SystemName}||${ManagedAccount}||Approver-Requestor||DROP||${apiUser} |
#|Set Policy       |${SystemName}||${ManagedAccount}||Approver-Requestor||DROP||${apiUser2}|
#|List Assigned Policy cleanup                                                             |
#|Delete Collection|${CollectionName}                                                      |
#|Delete Collection|${CollectionName2}                                                     |
#|Delete Group     |${GroupName}                                                           |
#|Delete Group     |${GroupName2}                                                          |
#|Remove User      |${UserName}                                                            |
#|Remove User      |${UserName2}                                                           |
#|Remove System    |${AdSystemName}                                                        |
#|Remove System    |${SystemName}                                                          |
#|Remove System    |${LPrefix}NewSystemName                                                |

!|scenario         |Remove template  |SystemName |
|Choose system     |@SystemName                  |
|click             |id=bt_Del        |           |
|getConfirmation                                 |
|waitForTextPresent|has been successfully deleted|

!|scenario                         |Clear Environment                                                                              |
|Approve Pwd                                                                                                                       |
|Set Policy                        |${SystemName}                        ||${ManagedAccount}||Approver-Requestor||DROP||${apiUser} |
|Set Policy                        |${SystemName}                        ||${ManagedAccount}||Approver-Requestor||DROP||${apiUser2}|
|List Assigned Policy cleanup                                                                                                      |
|Delete Collection                 |${CollectionName}                                                                              |
|Delete Collection                 |${CollectionName2}                                                                             |
|Delete Collection                 |${FileCollectionName}                                                                          |
|Delete Group                      |${GroupName}                                                                                   |
|Delete Group                      |${GroupName2}                                                                                  |
|Remove User                       |${UserName}                                                                                    |
|Remove User                       |${UserName2}                                                                                   |
|Remove User                       |${UserName}7                                                                                   |
|Remove System                     |${AdSystemName}                                                                                |
|Remove System                     |${SystemName}                                                                                  |
|Remove System                     |${LPrefix}NewOracleName                                                                        |
|Remove System                     |${LPrefix}updcissys                                                                            |
|Remove User                       |${LPrefix}User                                                                                 |
|Set AccDiscovery profile to System|No Account Discovery Profile selected||${LPrefix}NewSystemName                                 |
|Delete Account Discovery Profile  |${LPrefix}javaapi                                                                              |
|Remove template                   |${LPrefix}TemplateName                                                                         |
|Remove System                     |${LPrefix}NewSystemName                                                                        |
|Remove System                     |${LPrefix}NewADSystemName                                                                      |
|stop                                                                                                                              |


#|Set Policy       |${SystemName}||${ManagedAccount}||PSM Approver-Requestor||DROP||${apiUser} |
#|Set Policy       |${SystemName}||${ManagedAccount}||PSM Approver-Requestor||DROP||${apiUser2}|

!|scenario        |List Collection  |CollectionName                                               |                                              |SystemName                                              |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listCollections.groovy;CollectionName=@CollectionName;SystemName=@SystemName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;@CollectionName                                                                                                                                                                  |

!|scenario        |List Collection by options|options                                   |                                   |Result                                   |
|$res=            |RunBatchGetOutput         |GroovyJavaAPI\groovy_runner.bat;listCollections.groovy;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;@Result                                                                                                                                      |

!|scenario        |List Collection Membership|CollectionName                                                                                                                                         |
|$res=            |RunBatchGetOutput         |GroovyJavaAPI\groovy_runner.bat;listCollectionMembership.groovy;CollectionName=@CollectionName;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${ManagedAccount}                                                                                                                                                           |

!|scenario        |List Collection Membership by options|options                                      |                                      |result                                      |
|$res=            |RunBatchGetOutput                    |GroovyJavaAPI\groovy_runner.bat;listCollectionMembership.groovy;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;@result                                                                                                                                                          |


|scenario             |List Groups |
|List Groups Groupname|${GroupName}|
|List Groups Username |${UserName} |

!|scenario        |List Groups Groupname                                                                                                                              |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listGroups.groovy;GroupName=${GroupName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${GroupName}                                                                                                                                 |

!|scenario        |List Groups Username                                                                                                                             |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listGroups.groovy;UserName=${UserName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${GroupName}                                                                                                                               |

|scenario                        |List Group Membership|
|List Groups Membership Groupname|${GroupName}         |
|List Groups Membership Username |${UserName}          |


!|scenario        |List Groups Membership Groupname                                                                                                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listGroupMembership.groovy;GroupName=${GroupName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${UserName}                                                                                                                                           |


!|scenario        |List Groups Membership Username                                                                                                                           |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listGroupMembership.groovy;UserName=${UserName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${GroupName}.*${GroupName2}                                                                                                                         |

!|scenario        |List Systems                                                                                                                                                                                                                                      |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listSystems.groovy;NetworkAddress=${SystemAddress};CollectionName=${CollectionName};SystemName=${SystemName};Platform=${SystemPlatform};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${SystemName}                                                                                                                                                                                                                               |

!|scenario        |List Dependent Systems                                                                                                                                                                                                                                 |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listDependentSystems.groovy;SystemName=${AdSystemName};AccountName=${AdManagedAccount};DependentStatus=Dependent;DependentName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${SystemName}                                                                                                                                                                                                                                    |

!|scenario        |List Request                                                                                                                                                                                                                                    |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listRequest.groovy;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};EndDate=$Years,$Months,$Days;StartDate=$Years,$Months,$Days|
|Verify_Contain_OR|$res;;${SystemName}.*${ManagedAccount}.*${apiUser}.*${apiUser}.*Gardner1.*Shlomo1.*${apiUser}                                                                                                                                                   |

!|scenario        |List Request Details                                                                                                                                                                                                                                                               |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listRequestDetails.groovy;RequestorName="User=Myself";AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};EndDate=$Years,$Months,$Days;StartDate=$Years,$Months,$Days|
|Verify_Contain_OR|$res;;${SystemName}.*${ManagedAccount}.*${apiUser}.*${apiUser}.*Gardner1.*Shlomo1.*${apiUser}                                                                                                                                                                                      |

!|scenario        |List Acc for Session Request                                                                                                                                                                       |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAcctsForSessionRequest.groovy;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${ManagedAccount}                                                                                                                                                                            |

!|scenario        |List PSM Accounts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|$res=            |RunBatchGetOutput                                                                                                                                                                                                            |GroovyJavaAPI\groovy_runner.bat;listPSMAccounts.groovy;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                                                                                                                                                                                            |
|Verify_Contain_OR|$res;;${ManagedAccount}.*ColorDepth: 16.*ConsoleFlag: Y.*DefaultSessionDuration: 30.*EnableFlag: Y.*EscalationEmail: mail@mail.mail.*EscalationtTime: 1.*FileTransAuthMethod: Prompt.*FileTransDownFlag: Y.*FileTransPath: shara.*FileTransType: Windows File Copy.*FileTransUpFlag: Y.*MaxSessionCount: 2.*MinApprovers: 1.*NotifyFrequency: 4.*NotifyThreshold: 5.*PasswordMethod: Not Stored.*PostSessionProfile: ${PersistentPostSessionProfileName}.*ProxyType: RDP - Interactive Login.*RecordingRequiredFlag: Y.*ReviewCount: 2.*ReviewerType: Auditor.*SessionStartNotifyEmail: SessionStartNotify@Email|

!|scenario        |List Users                                                                                                                                                                                                                                       |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listUsers.groovy;;UserName=${UserName2};GroupName=${GroupName};UserInterface=WEB;UserType=Basic;Status=DISABLED;SecondaryAuthType=NONE;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${UserName2}                                                                                                                                                                                                                               |

!|scenario        |List Session Request                                                                                                                                                                                               |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listSessionRequest.groovy;;RequestorName=parAdmin;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;${SystemName}.*${ManagedAccount}.*${apiUser}.*Gardner1.*Shlomo1.*${apiUser}                                                                                                                                  |

!|scenario        |List Session Request Details                                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listSessionRequestDetails.groovy;RequestorName=User=Myself;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};EndDate=$Years,$Months,$Days;StartDate=$Years,$Months,$Days|
|Verify_Contain_OR|$res;;${SystemName}.*${ManagedAccount}.*${apiUser}.*Gardner1.*Shlomo1.*${apiUser}                                                                                                                                                                                                       |

!| scenario       |Cancel Session Request sc                                                                                                                                   |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;cancelSessionRequest.groovy;RequestId=$RequestIDs;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successful                                                                                                                                            |

!|scenario        |List Canceled Session Request                                                                                                                                                                                     |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listSessionRequest.groovy;RequestorName=parAdmin;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;$RequestIDs.*Denied                                                                                                                                                                                         |

!| scenario|Cancel Session Request|
|Request Session                  |
|Cancel Session Request sc        |
|List Canceled Session Request    |

!|scenario         |List Assigned Policy                                                                                                                                                                                                                                                                                              |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;AccessPolicyName="Approver-Requestor";AccountName=${ManagedAccount};SystemName=${SystemName};PermissionName="APR";PermissionType="Pwd";UserName=${apiUser};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                 |
|Verify_Contain_OR |$res;;${apiUser}.*${SystemName}.*${ManagedAccount}.*Approver-Requestor.*User-Account                                                                                                                                                                                                                              |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;AccessPolicyName="Approver-Requestor";CollectionName=${CollectionName};PermissionName="ALL";PermissionType="All";UserName=ParAdmin;ExpandCollectionFlag=Y;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                  |
|Verify_Contain_OR |$res;;ParAdmin.*${CollectionName}.*Approver-Requestor.*User-Collection.*                                                                                                                                                                                                                                          |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;AccessPolicyName="ISA";SystemName=${SystemName};PermissionName="ALL";PermissionType="All";ExpandGroupFlag=Y;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                                                |
|Verify_Contain_OR |$res;;${GroupName}.*${SystemName}.*ISA.*Group-System.                                                                                                                                                                                                                                                             |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;AccessPolicyName="ISA";FileName=${FileName};PermissionName="ISA";PermissionType="File";authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                                                                     |
|Verify_Contain_OR |$res;;${FileName}.*ISA.*User-File.*                                                                                                                                                                                                                                                                               |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;AccessPolicyName="Approver-Requestor";AccountName=${ManagedAccount};SystemName=${SystemName};PermissionName="ALL";PermissionType="All";UserName=ParAdmin;ExpandPolicyFlag=Y;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR |$res;;.*ParAdmin.*Listcollectionname1.*Approver.*Requestor.*User.*Collection.*Sess.*APR.*Yes.                                                                                                                                                                                                                     |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;SystemName=${SystemName};AccessPolicyName="Approver-Requestor";authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost};AllOrEffectiveFlag="A"                                                                                      |
|Verify_Contain_OR |$res;;.*Global Appr/Req Group.*No.*Group-Collection.*${apiUser}.*${SystemName}.*Yes.*User-Account                                                                                                                                                                                                                 |
|$res=             |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAssignedPolicies.groovy;AccountName=${ManagedAccount};SystemName=${SystemName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                                                                                                     |
|Verify_Contain_OR |$res;;${apiUser}.*${SystemName}.*${ManagedAccount}.*Approver-Requestor.*User-Account                                                                                                                                                                                                                              |
|Verify_Contain_NOT|$res;;${UserName}7 *${SystemName}.*${ManagedAccount}7.*ISA.*User-Account                                                                                                                                                                                                                                          |


#|Verify_Contain_OR|$res;;.*ParAdmin.*Listcollectionname1.*Approver.*Requestor.*User.*Collection.*Sess.*APR.*Yes.*Listcollectionname1.*Approver.*Requestor.*User.*Collection.*Sess.*REQ.*Yes.*Listcollectionname1.*Approver.*Requestor.*User.*Collection.*Sess.*REV.*Yes.*Listsystemname1.*Listmaccount1.*Approver.*Requestor.*User.*Account.*Pwd.*APR.*Yes.*Listsystemname1.*Listmaccount1.*Approver.*Requestor.*User.*Account.*Pwd.*REQ.*Yes.*Listsystemname1.*Listmaccount1.*Approver.*Requestor.*User.*Account.*Pwd.*REV.*Yes.*Listsystemname1.*Listmaccount1.*Approver.*Requestor.*User.*Account.*Sess.*APR.*Yes.*Listsystemname1.*Listmaccount1.*Approver.*Requestor.*User.*Account.*Sess.*REQ.*Yes.*Listsystemname1.*Listmaccount1.*Approver.*Requestor.*User.*Account.*Sess.*REV.*Yes.*|

!|scenario        |List Assigned Policy cleanup                                                                                                                                                                                                                                |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName="Approver-Requestor";Action=Drop;AccountName=${ManagedAccount};SystemName=${SystemName};UserName=parAdmin;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName="Approver-Requestor";Action=Drop;CollectionName=${CollectionName};UserName=parAdmin;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                      |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=Drop;SystemName=${SystemName};UserName=${CLI_user_1};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                          |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=Drop;CollectionName=${CollectionName};UserName=${CLI_user_1};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                  |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=Drop;SystemName=${SystemName};GroupName=${GroupName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                          |
|Verify_Contain_OR|$res;;successful                                                                                                                                                                                                                                            |

#|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=ISA;Action=Drop;FileName=${FileName};SystemName=${SystemName};UserName=${CLI_user_1};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                   |
#|Verify_Contain_OR|$res;;successful   



!|scenario|System options|
|List Systems by options |

!|scenario        |Add Account with options|SystemName                      |                      |AccountName                      |                      |options                     |                     |
|$res=            |RunBatchGetOutput       |GroovyJavaAPI\groovy_runner.bat;AddAccount.groovy;SystemName=@SystemName;AccountName=@AccountName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                          |

!|scenario        |Update Account   |SystemName                           |                           |AccountName                           |                           |options                          |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;UpdateAccount.groovy;SystemName=@SystemName;AccountName=@AccountName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                                                      |

!|scenario               |Account options                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|Add Account with options|${LPrefix}NewSystemName||${LPrefix}AccName||AutoFlag=Y;ChangeServiceFlag=Y;ChangeTaskFlag=Y;Description=dddd;EscalationEmail=mail@mail.com;EscalationTime=1;IgnoreSystemPolicies=Y;LockFlag=Y;MaxReleaseDuration=15;MinimumApprovers=5;ReleaseNotifyEmail=relmail@mail.com;ReleaseChangeFlag=N;ReleaseDuration=15;RequireTicketForAPI=Y;RequireTicketForCLI=Y;RequireTicketForISA=Y;RequireTicketForRequest=Y;ResetFlag=N;TicketSystemName=${PersistentTicketSystemName};RestartServiceFlag=Y;ReviewCount=5;ReviewerType=Auditor;UseSelfFlag=Y;SimulPrivAccReleases=5;PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1}                        |||
|List Account by         |SystemName=${LPrefix}NewSystemName;AccountName=${LPrefix}AccName                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|Verify_Contain_OR       |$res;;System Name: ${LPrefix}NewSystemName.*Account Name: ${LPrefix}AccName.*AccountAutoFl: Y.*AllowISADurationFlag: Y.*ChangeServiceFlag: Y.*ChangeTaskFlag: Y.*ChgSvcFl: Y.*Description: dddd.*EscalationEmail: mail@mail.com.*EscalationTime: 1.*IgnoreSystemPolicies: Y.*LockFlag: Y.*MaxReleaseDuration: 15.*MinApprovers: 5.*PasswordRule: PersPwdRule.*ReleaseDuration: 15.*RelNotifyEmail: relmail@mail.com.*RequireTicketForAPI: Y.*RequireTicketForCLI: Y.*RequireTicketForISA: Y.*RequireTicketForRequest: Y.*RestartServiceFlag: Y.*ReviewCount: 5.*ReviewerType: Auditor.*SimulPrivAccReleases: 5.*TicketSystemName: PersTicketSystem.*UseSelfFl: Y                                                 |
|Verify_Contain_OR       |$res;;EnableBeforeReleaseFlag: N.*PasswordCheckProfile: ${PersistentPasswordCheckProfile1}.*PasswordChangeProfile: ${PersistentPasswordChangeProfile1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|$res=                   |RunBatchGetOutput      |GroovyJavaAPI\groovy_runner.bat;SetAccessPolicy.groovy;AccessPolicyName=Reviewer;Action=ADD;AccountName=${LPrefix}AccName;SystemName=${LPrefix}NewSystemName;GroupName=${GroupName};authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|Verify_Contain_OR       |$res;;successful                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|Update Account          |${LPrefix}NewSystemName||${LPrefix}AccName||ChangeServiceFlag=N;ChangeTaskFlag=N;Description=nnnn;EnableBeforeReleaseFlag=N;EscalationEmail=umail@mail.com;EscalationTime=2;IgnoreSystemPolicies=N;LockFlag=N;MaxReleaseDuration=60;MinimumApprovers=0;ReleaseNotifyEmail=urelmail@mail.com;ReleaseChangeFlag=Y;ReleaseDuration=60;RequireTicketForAPI=Y;RequireTicketForCLI=N;RequireTicketForISA=N;RequireTicketForRequest=Y;TicketSystemName=${PersistentTicketSystemName};RestartServiceFlag=N;ReviewerName=${GroupName};ReviewerType=Group;SimulPrivAccReleases=99;TicketEmailNotify=TicketEmail@mail.mail;UseSelfFlag=N;PasswordCheckProfile=${PpmCheckProfile};PasswordChangeProfile=${PpmChangeProfile}| |
|List Account by         |SystemName=${LPrefix}NewSystemName;AccountName=${LPrefix}AccName                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|Verify_Contain_OR       |$res;;System Name: ${LPrefix}NewSystemName.*Account Name: ${LPrefix}AccName.*AccountAutoFl: Y.*ChangeServiceFlag: N.*ChangeTaskFlag: N.*Description: nnnn.*EscalationEmail: umail@mail.com.*EscalationTime: 2.*IgnoreSystemPolicies: N.*LockFlag: N.*MaxReleaseDuration: 60.*MinApprovers: 0.*ReleaseDuration: 60.*RelNotifyEmail: urelmail@mail.com.*RequireTicketForAPI: Y.*RequireTicketForCLI: N.*RequireTicketForISA: N.*RequireTicketForRequest: Y.*RestartServiceFlag: N.*ReviewCount: 5.*ReviewerName: ${LPrefix}Listgroupname.*ReviewerType: Group.*SimulPrivAccReleases: 99.*TicketEmailNotify: TicketEmail@mail.mail.*UseSelfFl: N                                                                    |
|Verify_Contain_OR       |$res;;EnableBeforeReleaseFlag: N.*PasswordCheckProfile: ${PpmCheckProfile}.*PasswordChangeProfile: ${PpmChangeProfile}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |



#;ReviewerName=\"Global Reviewer Group\"
#ReviewerName: Global Reviewer Group.*

#!|scenario        |List Account by options                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
#|List Account by  |SystemName=${LPrefix}NewSystemName;AccountName=${LPrefix}AccName                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
#|Verify_Contain_OR|$res;;System Name: ${LPrefix}NewSystemName.*Account Name: ${LPrefix}AccName.*AccountAutoFl: Y.*BlockAutoChangeFlag: Y.*ChangeFrequency: 2.*ChangeServiceFlag: Y.*ChangeTaskFlag: Y.*ChangeTime: 11:11.*CheckFl: Y.*Description: dddd.*EscalationEmail: mail@mail.com.*EscalationTime: 1.*IgnoreSystemPolicies: Y.*LockFlag: Y.*MaxReleaseDuration: 15.*MinApprovers: 5.*NextChangeDtAsString: 11/11/2022.*ReleaseChgFl: N.*ReleaseDuration: 0.*RelNotifyEmail: relmail@mail.com.*RequireTicketForAPI: Y.*RequireTicketForCLI: Y.*RequireTicketForISA: Y.*RequireTicketForRequest: Y.*ResetFl: N.*RestartServiceFlag: Y.*ReviewCount: 5.*ReviewerType: Auditor.*SimulPrivAccReleases: 5.*TicketSystemName: ${PersistentTicketSystemName}.*UseSelfFl: Y|

!|scenario|List Account by  |options                                                                                                              |
|$res=    |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listAccounts.groovy;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|



!|scenario        |Add User with options|UserName                             |                            |options                            |                            |
|$res=            |RunBatchGetOutput    |GroovyJavaAPI\groovy_runner.bat;addUser.groovy;UserName=@UserName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                       |

!|scenario        |Update User      |UserName                                       |                                       |options                                       |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;updateUser.groovy;UserName=@UserName;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;successfully                                                                                                                                      |

!|scenario|List Users by    |options                                                                                                           |
|$res=    |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listUsers.groovy;@options;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|

!|scenario            |User options                                                                                                                                                                                                                                                                                                                                                                |
|Add User with options|${LPrefix}User                             |                             |FirstName=test;LastName=test;Description=11111;DisableFl=Y;EmailAddress=mail@mail.mail;LocalTimezone=Alaska ;LogonHoursFL=A;LogonHours=11:11-22:22;LogonDays=.XXXXX.;Mobile=789456;MobileAllowedFlag=Y;Phone=123123;UserInterface=WEB;UserType=Admin                                              |
|List Users by        |UserName=${LPrefix}User                                                                                                                                                                                                                                                                                                                                                     |
|Verify_Contain_OR    |$res;;User Name: ${LPrefix}User.*Description: 11111.*DisableFl: Y.*EmailAddress: mail@mail.mail.*FirstName: test.*LastName: test.*LocalTimezone:.*Alaska.*LogonDays: -MTWTF-.*LogonHours: 11:11-22:22.*LogonHoursFL: A.*Mobile: 789456.*MobileAllowedFlag: Y.*Phone: 123123.*PrimAuthType: Local.*SecondaryAuth: None.*UserInterface: web.*UserType: Administrator          |
|Update User          |${LPrefix}User                             |                             |LogonHoursFL=N;DisableFl=N                                                                                                                                                                                                                                                                        |
|List Users by        |UserName=${LPrefix}User                                                                                                                                                                                                                                                                                                                                                     |
|Verify_Contain_OR    |$res;;User Name: ${LPrefix}User.*LogonHoursFL: N                                                                                                                                                                                                                                                                                                                            |
|Update User          |${LPrefix}User                             |                             |FirstName=newtest;LastName=newtest;Description=new11111;DisableFl=N;EmailAddress=newmail@mail.mail;LocalTimezone=Hawaii;LogonHoursFL=P;LogonHours=10:10-20:20;LogonDays=X.....X;Mobile=123456;MobileAllowedFlag=N;Phone=444555;PrimAuthType=Certificate;UserType=Basic                            |
|List Users by        |UserName=${LPrefix}User                                                                                                                                                                                                                                                                                                                                                     |
|Verify_Contain_OR    |$res;;User Name: ${LPrefix}User.*Description: new11111.*DisableFl: N.*EmailAddress: newmail@mail.mail.*FirstName: newtest.*LastName: newtest.*LocalTimezone:.*Hawaii.*LogonDays: S-----S.*LogonHours: 10:10-20:20.*LogonHoursFL: P.*Mobile: 123456.*MobileAllowedFlag: N.*Phone: 444555.*PrimAuthType: Certificate.*SecondaryAuth: None.*UserInterface: web.*UserType: Basic|


!|scenario        |ListReasonCodes  |ReasonCode                                                                                                     |
|$res=            |RunBatchGetOutput|GroovyJavaAPI\groovy_runner.bat;listReasonCodes.groovy;authFile=${authFile};apiUser=${apiUser};TPAM=${TPAMHost}|
|Verify_Contain_OR|$res;;@ReasonCode                                                                                                                |

!|scenario            |Choose system                             |SystemName |
|clickOnLink          |link=Manage Systems                                   |
|waitForElementPresent|id=SystemNm                                           |
|type;                |id=SystemNm                               |@SystemName|
|click                |id=Listing                                            |
|waitForElementPresent|xpath=//td[contains(text(),'@SystemName')]            |
|click                |xpath=//td[contains(text(),'@SystemName')]|           |

!|scenario         |Create Template |SystemName            |
|Choose system     |@SystemName                            |
|click             |id=Template                            |
|pause             |15000                                  |
|click             |id=cbxTemplateFl                       |
|pause             |10000                                  |
|click             |id=cbxRetainAccounts                   |
|pause             |5000                                   |
|click             |id=cb_acct_acctrow_1                   |
|pause             |10000                                  |
|click             |id=Details                             |
|type;             |id=SystemName   |${LPrefix}TemplateName|
|pause             |5000                                   |
|click             |id=bt_Save                             |
|waitForTextPresent|System changes for * saved successfully|

!|scenario            |Create Account Discovery Profile                                                       |
|clickOnLink          |link=Profile Management                                                                |
|select;              |id=ProfileType|label=Account Discovery                                                 |
|waitForElementPresent|id=NewButton  |                                                                        |
|click                |id=NewButton                                                                           |
|type;                |id=ProfileName|${LPrefix}javaapi                                                       |
|type;                |id=Description|Description                                                             |
|Add Detail           |0             ||Do Nothing||${LPrefix}TemplateName/${ManagedAccount}||||||||aaa|||||||||
|pause                |5000                                                                                   |
|click                |id=SaveButton                                                                          |
|waitForTextPresent   |The profile saved successfully                                                         |

!|scenario               |Enable Before Release Flag                                                                                                                                      |
|Add System              |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=${SystemPlatform}|
|Add Account with options|${SystemName}                     |                    |${LPrefix}AccName                    |                    |EnableBeforeReleaseFlag=Y                    |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                          |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*EnableBeforeReleaseFlag: Y                                                                   |
|Update Account          |${SystemName}                     |                    |${LPrefix}AccName                    |                    |EnableBeforeReleaseFlag=N                    |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                          |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*EnableBeforeReleaseFlag: N                                                                   |
|Remove System           |${SystemName}                                                                                                                                                   |

!|scenario               |Account DN and Functional account DN                                                                                                                                                                     |
|Add System              |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=LDAP;FuncAcctDN="CN=JeffSmith,OU=Sales,DC=Fabrikam,DC=COM"|
|List Systems by         |SystemName=${SystemName}                                                                                                                                                                                 |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*FunctionalAccountDN: CN=JeffSmith,OU=Sales,DC=Fabrikam,DC=COM                                                                                                          |
|Update System           |${SystemName}                |                |FuncAcctDN="CN=JeffSmith2,OU=Sales,DC=Fabrikam,DC=COM"               |                                                                                    |
|List Systems by         |SystemName=${SystemName}                                                                                                                                                                                 |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*FunctionalAccountDN: CN=JeffSmith2,OU=Sales,DC=Fabrikam,DC=COM                                                                                                         |
|Add Account with options|${SystemName}                |                |${LPrefix}AccName                                                    |               |AccountDn="CN=JeffSmith,OU=Sales,DC=Fabrikam,DC=COM"                |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                                                                   |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*AccountDN: CN=JeffSmith,OU=Sales,DC=Fabrikam,DC=COM                                                                                   |
|Update Account          |${SystemName}                |                |${LPrefix}AccName                                                    |               |AccountDn="CN=JeffSmith2,OU=Sales,DC=Fabrikam,DC=COM"               |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                                                                   |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*AccountDN: CN=JeffSmith2,OU=Sales,DC=Fabrikam,DC=COM                                                                                  |
|Remove System           |${SystemName}                                                                                                                                                                                            |


!|scenario                  |PPM and PSM DPA Affinity                                                                                                                                                                                    |
|Get DPA Name and IP Address                                                                                                                                                                                                             |
|Add System                 |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=Windows;PSMDPAAffinity=$TPAMDPA/11;PPMDPAAffinity=$TPAMDPA/22|
|List Systems by            |SystemName=${SystemName}                                                                                                                                                                                    |
|Verify_Contain_OR          |$res;;System Name: ${SystemName}.*PSMDPAAffinity: $TPAMDPA/11.*PPMDPAAffinity: $TPAMDPA/22                                                                                                                  |
|Update System              |${SystemName}                                                   |                            |PSMDPAAffinity=$TPAMDPA/33;PPMDPAAffinity=$TPAMDPA/44                            |                            |
|List Systems by            |SystemName=${SystemName}                                                                                                                                                                                    |
|Verify_Contain_OR          |$res;;System Name: ${SystemName}.*PSMDPAAffinity: $TPAMDPA/33.*PPMDPAAffinity: $TPAMDPA/44                                                                                                                  |
|Update System              |${SystemName}                                                   |                            |PSMDPAAffinity=Any;PPMDPAAffinity=Local                                          |                            |
|List Systems by            |SystemName=${SystemName}                                                                                                                                                                                    |
|Verify_Contain_OR          |$res;;System Name: ${SystemName}.*PSMDPAAffinity: Any.*PPMDPAAffinity: Local                                                                                                                                |
|Remove System              |${SystemName}                                                                                                                                                                                               |
|Add Collection with options|${DPACollectionName}                                            |                            |Desctiption=PSMDPAcollection;PsmDpaAffinity=$TPAMDPA/7                                                        |
|List Collection by options |CollectionName=${DPACollectionName}                             |                            |${DPACollectionName}.*$TPAMDPA/7                                                                              |
|Update Collection          |${DPACollectionName}                                            |                            |PsmDpaAffinity=Any                                                                                            |
|List Collection by options |CollectionName=${DPACollectionName}                             |                            |${DPACollectionName}                                                                                          |
|Verify_Contain_NOT         |$res;;$TPAMDPA/7                                                                                                                                                                                            |
|Delete Collection          |${DPACollectionName}                                                                                                                                                                                        |

!|scenario               |System and Account Require Ticket For PSM flag                                                                                                                              |
|Add System              |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=Windows;RequireTicketForPSM=Y|
|List Systems by         |SystemName=${SystemName}                                                                                                                                                    |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*RequireTicketForPSM: Y                                                                                                                    |
|Update System           |${SystemName}                       |                       |RequireTicketForPSM=N                       |                                                                  |
|List Systems by         |SystemName=${SystemName}                                                                                                                                                    |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*RequireTicketForPSM: N                                                                                                                    |
|Update System           |${SystemName}                       |                       |RequireTicketForPSM=Y                       |                                                                  |
|List Systems by         |SystemName=${SystemName}                                                                                                                                                    |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*RequireTicketForPSM: Y                                                                                                                    |
|Add Account with options|${SystemName}                       |                       |${LPrefix}AccName                           |                      |RequireTicketForPSM=Y                      |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                                      |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*RequireTicketForPSM: Y                                                                                   |
|Update Account          |${SystemName}                       |                       |${LPrefix}AccName                           |                      |RequireTicketForPSM=N                      |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                                      |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*RequireTicketForPSM: N                                                                                   |
|Update Account          |${SystemName}                       |                       |${LPrefix}AccName                           |                      |RequireTicketForPSM=Y                      |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                                      |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*RequireTicketForPSM: Y                                                                                   |
|Remove System           |${SystemName}                                                                                                                                                               |

!|scenario               |Account Custom Columns                                                                                                                                                                                                                                                                                                                                                                                            |
|Add System              |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=Windows;Custom1=SystemCustom1;Custom2=SystemCustom2;Custom3=SystemCustom3;Custom4=SystemCustom4;Custom5=SystemCustom5;Custom6=SystemCustom6                                                                                                                        |
|Add Account with options|${SystemName}                                             |                                             |${LPrefix}AccName                                             |                                             |Custom1=AccountCustom1;Custom2=AccountCustom2;Custom3=AccountCustom3;Custom4=AccountCustom4;Custom5=AccountCustom5;Custom6=AccountCustom6                                                   |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName;SystemCustom1=SystemCustom1;SystemCustom2=SystemCustom2;SystemCustom3=SystemCustom3;SystemCustom4=SystemCustom4;SystemCustom5=SystemCustom5;SystemCustom6=SystemCustom6;AccountCustom1=AccountCustom1;AccountCustom2=AccountCustom2;AccountCustom3=AccountCustom3;AccountCustom4=AccountCustom4;AccountCustom5=AccountCustom5;AccountCustom6=AccountCustom6|
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*AccountCustom1: AccountCustom1.*AccountCustom2: AccountCustom2.*AccountCustom3: AccountCustom3.*AccountCustom4: AccountCustom4.*AccountCustom5: AccountCustom5.*AccountCustom6: AccountCustom6                                                                                                                                                 |
|Update Account          |${SystemName}                                             |                                             |${LPrefix}AccName                                             |                                             |Custom1=AccountCustom11;Custom2=AccountCustom22;Custom3=AccountCustom33;Custom4=AccountCustom44;Custom5=AccountCustom55;Custom6=AccountCustom66                                             |
|List Account by         |SystemName=${SystemName};AccountName=${LPrefix}AccName                                                                                                                                                                                                                                                                                                                                                            |
|Verify_Contain_OR       |$res;;System Name: ${SystemName}.*Account Name: ${LPrefix}AccName.*AccountCustom1: AccountCustom11.*AccountCustom2: AccountCustom22.*AccountCustom3: AccountCustom33.*AccountCustom4: AccountCustom44.*AccountCustom5: AccountCustom55.*AccountCustom6: AccountCustom66                                                                                                                                           |
|Remove System           |${SystemName}                                                                                                                                                                                                                                                                                                                                                                                                     |

!|scenario        |System Custom Columns                                                                                                                                                                                                                                                                     |
|Add System       |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=Windows;Custom1=SystemCustom1;Custom2=SystemCustom2;Custom3=SystemCustom3;Custom4=SystemCustom4;Custom5=SystemCustom5;Custom6=SystemCustom6|
|List Systems by  |SystemName=${SystemName};SystemCustom1=SystemCustom1;SystemCustom2=SystemCustom2;SystemCustom3=SystemCustom3;SystemCustom4=SystemCustom4;SystemCustom5=SystemCustom5;SystemCustom6=SystemCustom6                                                                                          |
|Verify_Contain_OR|$res;;System Name: ${SystemName}.*Custom1: SystemCustom1.*Custom2: SystemCustom2.*Custom3: SystemCustom3.*Custom4: SystemCustom4.*Custom5: SystemCustom5.*Custom6: SystemCustom6                                                                                                          |
|Update System    |${SystemName}                                 |                                |Custom1=SystemCustom11;Custom2=SystemCustom22;Custom3=SystemCustom33;Custom4=SystemCustom44;Custom5=SystemCustom55;Custom6=SystemCustom66                                |                                |
|List Systems by  |SystemName=${SystemName}                                                                                                                                                                                                                                                                  |
|Verify_Contain_OR|$res;;System Name: ${SystemName}.*Custom1: SystemCustom11.*Custom2: SystemCustom22.*Custom3: SystemCustom33.*Custom4: SystemCustom44.*Custom5: SystemCustom55.*Custom6: SystemCustom66                                                                                                    |
|Remove System    |${SystemName}                                                                                                                                                                                                                                                                             |

!|scenario            |User Custom Columns                                                                                                                                                                                  |
|Add User with options|${LPrefix}User||FirstName=test;LastName=test;UserInterface=WEB;UserType=Admin;Custom1=UserCustom1;Custom2=UserCustom2;Custom3=UserCustom3;Custom4=UserCustom4;Custom5=UserCustom5;Custom6=UserCustom6|
|List Users by        |UserName=${LPrefix}User;UserCustom1=UserCustom1;UserCustom2=UserCustom2;UserCustom3=UserCustom3;UserCustom4=UserCustom4;UserCustom5=UserCustom5;UserCustom6=UserCustom6                              |
|Verify_Contain_OR    |$res;;User Name: ${LPrefix}User.*UserCustom1: UserCustom1.*UserCustom2: UserCustom2.*UserCustom3: UserCustom3.*UserCustom4: UserCustom4.*UserCustom5: UserCustom5.*UserCustom6: UserCustom6          |
|Update User          |${LPrefix}User||Custom1=UserCustom11;Custom2=UserCustom22;Custom3=UserCustom33;Custom4=UserCustom44;Custom5=UserCustom55;Custom6=UserCustom66                                                        |
|List Users by        |UserName=${LPrefix}User                                                                                                                                                                              |
|Verify_Contain_OR    |$res;;User Name: ${LPrefix}User.*UserCustom1: UserCustom11.*UserCustom2: UserCustom22.*UserCustom3: UserCustom33.*UserCustom4: UserCustom44.*UserCustom5: UserCustom55.*UserCustom6: UserCustom66    |
|Remove User          |${LPrefix}User                                                                                                                                                                                       |




!|scenario                     |Disabled Schedules                                                                                                                                                                                                                                                      |
|Open                          |${TPAMURL}                               |                    |${TPAMAdmin}                                    |                   |${DefaultPwd}                                                                                                                       |
|Create Password Change Profile|${ChangePassProfile1}                    |                    |Disable change schedule                                                                                                                                                                                  |
|Create Password Check Profile |${CheckPassProfile1}                     |                    |Do Nothing                                      |                   |Disable check schedule                                                                                                              |
|Add System                    |SystemName=${SystemName};NetworkAddress=${SystemAddress};FunctionalAccount=${FunctAcct};FunctionalAcctCredentials=${FunctAcctPwd};PlatformName=Windows;PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1}|
|Add Account with options      |${SystemName}                            |                    |${DisabledSchedulesACcount1}                    |                   |PasswordCheckProfile=${CheckPassProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1};Password=Password                                 |
|Add Account with options      |${SystemName}                            |                    |${DisabledSchedulesACcount2}                    |                   |PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${ChangePassProfile1};Password=Password                                 |
|Add Account with options      |${SystemName}                            |                    |${DisabledSchedulesACcount3}                    |                   |PasswordCheckProfile=${CheckPassProfile1};PasswordChangeProfile=${ChangePassProfile1};Password=Password                                               |
|pause                         |100000                                                                                                                                                                                                                                                                  |
|List Account by               |SystemName=${SystemName};DisabledSchedules=Check                                                                                                                                                                                                                        |
|Verify_Contain_OR             |$res;;System Name: ${SystemName}.*Account Name: ${DisabledSchedulesACcount1}.*DisableChangeScheduleFl: N.*DisableCheckScheduleFl: Y                                                                                                                                     |
|List Account by               |SystemName=${SystemName};DisabledSchedules=Change                                                                                                                                                                                                                       |
|Verify_Contain_OR             |$res;;System Name: ${SystemName}.*Account Name: ${DisabledSchedulesACcount2}.*DisableChangeScheduleFl: Y.*DisableCheckScheduleFl: N                                                                                                                                     |
|List Account by               |SystemName=${SystemName};DisabledSchedules=Both                                                                                                                                                                                                                         |
|Verify_Contain_OR             |$res;;System Name: ${SystemName}.*Account Name: ${DisabledSchedulesACcount3}.*DisableChangeScheduleFl: Y.*DisableCheckScheduleFl: Y                                                                                                                                     |
|List Account by               |SystemName=${SystemName};DisabledSchedules=Either                                                                                                                                                                                                                       |
|Verify_Contain_OR             |$res;;System Name: ${SystemName}.*Account Name: ${DisabledSchedulesACcount1}.*DisableChangeScheduleFl: N.*DisableCheckScheduleFl: Y.*ystem Name: ${SystemName}.*Account Name: ${DisabledSchedulesACcount2}.*DisableChangeScheduleFl: Y.*DisableCheckScheduleFl: N       |
|Update Account                |${SystemName}                            |                    |${DisabledSchedulesACcount1}                    |                   |PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1}                   |
|Update Account                |${SystemName}                            |                    |${DisabledSchedulesACcount2}                    |                   |PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1}                   |
|Update Account                |${SystemName}                            |                    |${DisabledSchedulesACcount3}                    |                   |PasswordCheckProfile=${PersistentPasswordCheckProfile1};PasswordChangeProfile=${PersistentPasswordChangeProfile1}                   |
|Remove System                 |${SystemName}                                                                                                                                                                                                                                                           |
|Delete Password Profile       |Change                                   |                    |${ChangePassProfile1}                                                                                                                                                                                    |
|Delete Password Profile       |Check                                    |                    |${CheckPassProfile1}                                                                                                                                                                                     |
|stop                                                                                                                                                                                                                                                                                                   |




